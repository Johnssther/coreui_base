{"version":3,"sources":["api/api.js","views/Gastos/Ingresargastos/Ingresargastos.js"],"names":["Api","Object","_home_alejandro_Im_genes_proyecto_money_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","host","window","location","URL","API_TOKEN","localStorage","getItem","userLogin","passwordLogin","fetch","concat","method","headers","Accept","Content-Type","body","JSON","stringify","username","password","then","response","json","responseJson","catch","error","data","name","email","password_confirmation","api_token","gasto","cantidad","precio_unidad","precioUnidad","precio_total","precioTotal","fecha","Fecha","user_id","id_usuario","tipogasto_id","URLactual","console","log","parse","id","__webpack_exports__","columns","selector","sortable","cell","row","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","style","fontWeight","summary","Ingresargastos","props","_this","_home_alejandro_Im_genes_proyecto_money_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_home_alejandro_Im_genes_proyecto_money_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","tipoGasto","newValue","actionMeta","value","setState","inputTipogasto","state","ingresargastos","gastoTotal","inputFecha","inputCantidad","inputGasto","inputPrecioUnidad","inputPrecioTotal","moment","options","danger","textError","loading","disabledRanges","color","start","end","handleClick","bind","_home_alejandro_Im_genes_proyecto_money_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","addExpenses","toggleDanger","_this2","getGastos","API","getTipogastos","map","item","label","_this3","setTimeout","getExpenses","total","preciounid","Intl","NumberFormat","format","precio","length","Preciototal","reduce","accumulator","currentValue","_this4","saveExpenses","validateForm","_this5","reactstrap__WEBPACK_IMPORTED_MODULE_11__","reactstrap__WEBPACK_IMPORTED_MODULE_12__","isOpen","toggle","className","reactstrap__WEBPACK_IMPORTED_MODULE_13__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","reactstrap__WEBPACK_IMPORTED_MODULE_15__","reactstrap__WEBPACK_IMPORTED_MODULE_16__","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_17__","xs","sm","reactstrap__WEBPACK_IMPORTED_MODULE_18__","reactstrap__WEBPACK_IMPORTED_MODULE_19__","reactstrap__WEBPACK_IMPORTED_MODULE_20__","react_datepicker2__WEBPACK_IMPORTED_MODULE_8__","backgroundColo","onChange","marginLeft","key","reactstrap__WEBPACK_IMPORTED_MODULE_21__","reactstrap__WEBPACK_IMPORTED_MODULE_22__","htmlFor","reactstrap__WEBPACK_IMPORTED_MODULE_23__","type","event","target","react_select__WEBPACK_IMPORTED_MODULE_10__","placeholder","react_data_table_component__WEBPACK_IMPORTED_MODULE_7___default","title","reactstrap__WEBPACK_IMPORTED_MODULE_24__","href","highlightOnHover","selectableRows","actions","pagination","progressPending","progressComponent","reactstrap__WEBPACK_IMPORTED_MODULE_25__","animation","variant","Component"],"mappings":"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","file":"static/js/16.7203ab03.chunk.js","sourcesContent":["/**\n*Peticiones api\n* @author John Alejandro || @Johnssther\n* @link http://JohnAlejandro.com\n* link Api\n* http://104.236.57.82/accesspark/public/api/login\n*/\n\nclass Api {\n    constructor() {\n        let host = window.location.host\n        if (host === \"localhost:3000\") {\n            this.URL = \"http://localhost/coysa/public/api/\";\n        }\n        if (host === \"johnssther.github.io\") {\n            this.URL = \"http://coysa.herokuapp.com/api/\";\n        }\n\n        this.API_TOKEN = localStorage.getItem('token');\n    }\n\n    //1. Login\n    onLogin(userLogin, passwordLogin) {\n        return fetch(`${this.URL}login`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: userLogin,\n                password: passwordLogin,\n            }),\n        }).then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n    //1. Register users\n    registerUser(data) {\n        return fetch(`${this.URL}register`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: data.name,\n                email: data.email,\n                username: data.username,\n                password: data.password,\n                password_confirmation: data.password_confirmation,\n            }),\n        }).then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n\n    saveExpenses(data) {\n        // B. Guardar los gastos\n        fetch(`${this.URL}gastos`, {\n\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                api_token: this.API_TOKEN,\n                gasto: data.gasto,\n                cantidad: data.cantidad,\n                precio_unidad: data.precioUnidad,\n                precio_total: data.precioTotal,\n                fecha: data.Fecha,\n                user_id: data.id_usuario,\n                tipogasto_id: data.tipogasto_id,\n            }),\n\n        }).then((response) => {\n            return response.json();\n\n        })\n            .catch(error => {\n                throw error;\n            });\n    }\n    // 3. Obtener todos los gastos\n\n    getExpenses() {\n        var URLactual = window.location;\n        console.log(URLactual, 'oo');\n        return fetch(`${this.URL}gastos?api_token=${ this.API_TOKEN }&user_id=${JSON.parse(localStorage.getItem('auth')).id}`)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n\n    // 4. Obtiene los tipos de gastos\n\n    getTipogastos() {\n        return fetch(`${this.URL}tipogastos?api_token=${ this.API_TOKEN }&user_id=${JSON.parse(localStorage.getItem('auth')).id}`)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n\n\n\n} // close class\n//Total peticiones 2 : ??\nexport default new Api();\n","import React, { Component } from 'react';\n\n//Componentes de terceros\nimport DataTable from 'react-data-table-component';\nimport { Calendar } from 'react-datepicker2';\nimport moment from 'moment-jalaali'\nimport Select from 'react-select'\n\nimport {\n  Button,\n  Card,\n  CardBody,\n  CardHeader,\n  FormGroup,\n  Modal, ModalBody, ModalFooter, ModalHeader,\n  Input,\n  Label,\n  Row,\n  Col,\n  Badge,\n  Spinner\n} from 'reactstrap';\n\n// API\nimport API from '../../../api/api';\n\nconst columns = [\n  {\n    name: 'Fecha',\n    selector: 'fecha',\n    sortable: true,\n    cell: row => <div><div style={{ fontWeight: 700, }}>{row.fecha}</div>{row.summary}</div>,\n\n  },\n  {\n    name: 'Cantidad',\n    selector: 'cantidad',\n    sortable: true,\n  },\n  {\n    name: 'Gasto',\n    selector: 'gasto',\n    sortable: true,\n  },\n  {\n    name: 'Precio Unid.',\n    selector: 'preciounid',\n    sortable: true,\n  },\n  {\n    name: 'Precio Total',\n    selector: 'precio',\n    sortable: true,\n    // right: true,\n  },\n];\n\nclass Ingresargastos extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ingresargastos: true,\n      data: [],\n      gastoTotal: 0,\n      //Input formulario\n      inputFecha: '',\n      inputCantidad: '',\n      inputGasto: '',\n      inputPrecioUnidad: '',\n      inputPrecioTotal: '',\n      inputTipogasto: '',\n      //Calendario\n      value: moment(),\n      options: [],\n\n      danger: false,\n      textError: '',\n      loading:true,\n\n    }\n    this.disabledRanges = [\n      {\n        color: 'green',\n        start: moment(),\n        end: moment()\n      },\n    ]\n    // Este enlace es necesario para hacer que `this` funcione en el callback\n    this.handleClick = this.handleClick.bind(this);\n    this.addExpenses = this.addExpenses.bind(this);\n    this.tipoGasto = this.tipoGasto.bind(this);\n    this.toggleDanger = this.toggleDanger.bind(this);\n\n  }\n\n  componentDidMount() {\n    this.getGastos()\n    API.getTipogastos().then((response) => {\n      const options = response.map((item) => {\n        return { value: item.id, label: item.gasto }\n      })\n      this.setState({\n        options,\n      })\n    })\n    //select\n\n\n  }\n\n  getGastos() {\n    this.setState({\n      data: []\n    })\n    setTimeout(() => {\n      API.getExpenses()\n        .then((response) => {\n          console.log(response);\n\n          const total = response.map((item) => {\n            return item.precio_total;\n          })\n          const data = response.map((item) => {\n            return { fecha: item.fecha, cantidad: item.cantidad, gasto: item.gasto, preciounid: '$ ' + new Intl.NumberFormat().format(item.precio_unidad), precio: '$ ' + new Intl.NumberFormat().format(item.precio_total) }\n          })\n\n\n          if (total.length > 0) {\n            const reducer = (accumulator, currentValue) => accumulator + currentValue;\n            var Preciototal = total.reduce(reducer);\n          } else {\n            var Preciototal = 0;\n          }\n\n          this.setState({\n            data,\n            gastoTotal: Preciototal,\n            loading:false,\n          })\n        })\n    }, 500)\n  }\n\n  handleClick() {\n    this.setState({\n      ingresargastos: !this.state.ingresargastos,\n    })\n    this.getGastos()\n  }\n  addExpenses() {\n\n    const data = {\n      gasto: this.state.inputGasto,\n      cantidad: this.state.inputCantidad,\n      precioUnidad: this.state.inputPrecioUnidad,\n      precioTotal: this.state.inputPrecioTotal === '' ? this.state.inputCantidad * this.state.inputPrecioUnidad : this.state.inputPrecioTotal,\n      Fecha: this.state.value.format('YYYY/M/D'),\n      id_usuario: JSON.parse(localStorage.getItem('auth')).id,\n      tipogasto_id: this.state.inputTipogasto,\n      // Fecha: this.state.inputFecha,\n    }\n    const validateForm = (data) => {\n\n      if (data.tipogasto_id === '') {\n        this.setState({ danger: !this.state.danger, textError: 'Debe seleccionar el tipo de gasto' });\n        return false\n      }\n      if (data.gasto === '') {\n        this.setState({ danger: !this.state.danger, textError: 'Debe ingresar un gasto en el campo gasto' });\n        return false\n      }\n      if (data.cantidad === '') {\n        this.setState({ danger: !this.state.danger, textError: 'Ingrese una cantidad' });\n        return false\n      }\n      if (data.precioUnidad === '') {\n        this.setState({ danger: !this.state.danger, textError: 'Ingrese el costo por unidad' });\n        return false\n      }\n\n      API.saveExpenses(data)\n      this.handleClick()\n      return true\n    }\n    validateForm(data)\n\n\n  }\n  tipoGasto = (newValue: any, actionMeta: any) => {\n    console.log(newValue.value);\n    this.setState({\n      inputTipogasto: newValue.value\n    })\n  }\n  toggleDanger() {\n    this.setState({\n      danger: !this.state.danger,\n    });\n    console.log('sesion cerrada');\n\n  }\n\n  render() {\n    if (this.state.ingresargastos === true) {\n      return (\n        <Row>\n          <Modal isOpen={this.state.danger} toggle={this.toggleDanger}\n            className={'modal-danger ' + this.props.className}>\n            <ModalHeader toggle={this.toggleDanger}>Error al intentar registrar este gasto</ModalHeader>\n            <ModalBody>\n              {this.state.textError}\n            </ModalBody>\n            <ModalFooter>\n              <Button color=\"danger\" onClick={this.toggleDanger}>Ok</Button>{' '}\n            </ModalFooter>\n          </Modal>\n\n\n          <Col xs='12' sm='6'>\n            <Card>\n              <CardHeader>\n                <strong>Nuevo gasto</strong> generado\n              </CardHeader>\n              <CardBody>\n                <Calendar\n                  style={{ backgroundColo: 'red' }}\n                  onChange={value => this.setState({ value })}\n                  value={this.state.value}\n                />\n                <h6><strong>Fecha: </strong>{this.state.value.format('YYYY/M/D')}</h6>\n              </CardBody>\n            </Card>\n          </Col>\n          <Col xs=\"12\" sm=\"6\">\n            <Card>\n              <CardHeader>\n                <strong>Ingresar gastos</strong> diarios\n                <Button style={{ marginLeft: 137 }} key=\"add\" onClick={this.handleClick}>Ver Mis gastos</Button>\n              </CardHeader>\n              <CardBody>\n                <FormGroup>\n                  <Label htmlFor=\"inputFecha\">Fecha</Label>\n                  <Input type=\"text\" id=\"inputFecha\" value={this.state.value.format('YYYY/M/D')} onChange={(event) => this.setState({ inputFecha: event.target.value })} />\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"inputTipogasto\">Tipo Gasto</Label>\n                  <Select options={this.state.options} onChange={this.tipoGasto} />\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"inputGasto\">Gasto</Label>\n                  <Input placeholder='Ingresar Gasto' type=\"text\" id=\"inputGasto\" onChange={(event) => this.setState({ inputGasto: event.target.value })} />\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"inputCantidad\">Cantidad</Label>\n                  <Input placeholder='Numero Total' type=\"text\" id=\"inputCantidad\" onChange={(event) => this.setState({ inputCantidad: event.target.value })} />\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"inputPrecioUnidad\">Precio unidad</Label>\n                  <Input placeholder='$ Costo Unidad' type=\"text\" id=\"inputPrecioUnidad\" onChange={(event) => this.setState({ inputPrecioUnidad: event.target.value })} />\n                </FormGroup>\n                <FormGroup>\n                  <Label htmlFor=\"inputPrecioTotal\">Precio Total</Label>\n                  <Input placeholder='$ Costo Total (opcional)' type=\"text\" id=\"inputPrecioTotal\" onChange={(event) => this.setState({ inputPrecioTotal: event.target.value })} />\n                </FormGroup>\n                <Button key=\"add\" onClick={this.addExpenses}>Registrar</Button>\n              </CardBody>\n            </Card>\n          </Col>\n        </Row>\n      )\n    }\n    return (\n      <Card>\n        <CardHeader>\n          <i className=\"fa fa-align-justify\"></i><strong>Gastos diarios</strong>\n          <small> Gastos </small>\n\n        </CardHeader>\n        <CardBody>\n          <DataTable\n            title={<small>Gastos diarios. Total: <Badge className=\"mr-1\" href=\"#\" color=\"danger\">{`$ ${new Intl.NumberFormat().format(this.state.gastoTotal)}`}</Badge></small>}\n            columns={columns}\n            data={this.state.data}\n            highlightOnHover={true}\n            selectableRows\n            actions={<Button key=\"add\" onClick={this.handleClick}>Nuevo</Button>}\n            pagination={true}\n            progressPending={this.state.loading}\n            progressComponent={<Spinner animation=\"border\" variant=\"primary\" />}\n          />\n        </CardBody>\n      </Card >\n    );\n  }\n}\n\nexport default Ingresargastos;"],"sourceRoot":""}