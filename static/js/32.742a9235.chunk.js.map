{"version":3,"sources":["utils/errors.js","views/components/loading.js","views/Widgets/Widget02.js","api/dashboard.js","views/Dashboard/Dashboard.js"],"names":["handleErrors","response","console","log","success","messg","errors","generalErrorApi","Loading","class","className","Widget02","this","props","cssModule","header","mainText","icon","color","footer","link","variant","children","attributes","padding","card","lead","style","classes","mapToCssModules","classNames","Card","CardBody","blockIcon","CardFooter","href","cardFooter","Component","defaultProps","host","window","location","URL","API_TOKEN","localStorage","getItem","fetch","JSON","parse","id","then","json","responseJson","catch","error","line","labels","datasets","label","fill","lineTension","backgroundColor","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","pointBorderColor","pointBackgroundColor","pointBorderWidth","pointHoverRadius","pointHoverBackgroundColor","pointHoverBorderColor","pointHoverBorderWidth","pointRadius","pointHitRadius","data","bar","borderWidth","hoverBackgroundColor","hoverBorderColor","doughnut","options","tooltips","enabled","custom","CustomTooltips","maintainAspectRatio","Dashboard","state","gastoTotal","mes","loading","getExpensesMonths","getExpensesMonth","ApiDashboard","getTotalExpensesMonth","setState","e","getTotalExpensesMonths","mes_nombre","Intl","NumberFormat","format","toString","map","item","index","key","CardHeader","anio","precio_total_mes"],"mappings":"6KAAA,oEAAO,IAAMA,EAAe,SAAAC,GAIxB,GAHAC,QAAQC,IAAIF,IAGY,IAArBA,EAASG,QACR,MAAMH,EAGV,GAAIA,EAAU,CACV,IAAII,EAAQ,CACRD,SAAQ,EACRE,OAAO,0FAEX,GAAiB,+BAAbL,EACA,MAAMI,EAEV,MAAMA,IAIDE,EAAkB,SAAAN,GAC3B,MAAMA,I,iCCrBV,kCAgCeO,IA3Bf,WAEI,OACI,oCACI,yBAAKC,MAAM,aAEP,yBAAKA,MAAM,OACP,yBAAKA,MAAM,wBACP,yBAAKC,UAAU,0BAEX,yBAAKD,MAAM,gBACP,8BACA,8BACA,+BAEJ,kD,qLCQtBE,E,uKACM,IAAD,EACyGC,KAAKC,MAA7GH,EADD,EACCA,UAAWI,EADZ,EACYA,UAAWC,EADvB,EACuBA,OAAQC,EAD/B,EAC+BA,SAAUC,EADzC,EACyCA,KAAMC,EAD/C,EAC+CA,MAAOC,EADtD,EACsDA,OAAQC,EAD9D,EAC8DA,KAAgBC,GAD9E,EACoEC,SADpE,EAC8ED,SAAYE,EAD1F,iHAIDC,EAAuB,MAAZH,EAAkB,CAAEI,KAAM,MAAOR,KAAM,MAAOS,KAAM,QAAwB,MAAZL,EAAkB,CACjGI,KAAM,MAAOR,KAAM,MAAOS,KAAM,QAC9B,CAAED,KAAM,MAAOR,KAAM,WAAYS,KAAM,QAErCD,EAAO,CAAEE,MAAO,WAAYT,MAAOA,EAAOD,KAAMA,EAAMW,QAAS,IACrEH,EAAKG,QAAUC,0BAAgBC,IAAWpB,EAAWe,EAAKE,MAAOH,EAAQC,MAAOX,GAEhF,IAAMY,EAAO,CAAEC,MAAO,UAAWT,MAAOA,EAAOU,QAAS,IACxDF,EAAKE,QAAUE,IAAWJ,EAAKC,MAAO,QAAUF,EAAKP,MAAOM,EAAQE,MAkBpE,OACE,kBAACK,EAAA,EAAD,KACE,kBAACC,EAAA,EAAD,eAAUtB,UAAWe,EAAKG,SAAaL,GAlBzB,SAAUN,GAC1B,IAAMW,EAAUE,IAAWb,EAAM,MAAQQ,EAAKP,MAAOM,EAAQP,KAAM,4BACnE,OAAQ,uBAAGP,UAAWkB,IAiBjBK,CAAUR,EAAKR,MAChB,yBAAKP,UAAWgB,EAAKE,SAAUb,GAC/B,yBAAKL,UAAU,sDAAsDM,IAhBxD,WACjB,GAAIG,EACF,OACE,kBAACe,EAAA,EAAD,CAAYxB,UAAU,aACpB,uBAAGA,UAAU,gDAAgDyB,KAAMf,GAAnE,aACE,uBAAGV,UAAU,4CAalB0B,Q,GAtCcC,aA6CvB1B,EAAS2B,aAtDY,CACnBvB,OAAQ,YACRC,SAAU,SACVC,KAAM,aACNC,MAAO,UACPG,QAAS,IACTD,KAAM,KAkDOT,QCzBA,G,OAAA,I,WAvCX,aAAe,oBACX,IAAI4B,EAAOC,OAAOC,SAASF,KACd,mBAATA,IACA3B,KAAK8B,IAAM,sCAEF,yBAATH,IACA3B,KAAK8B,IAAM,mCAEF,+BAATH,IACA3B,KAAK8B,IAAM,sCAGf9B,KAAK+B,UAAYC,aAAaC,QAAQ,S,qEAItC,OAAOC,MAAM,GAAD,OAAIlC,KAAK8B,IAAT,mDAAuD9B,KAAK+B,UAA5D,oBAAiFI,KAAKC,MAAMJ,aAAaC,QAAQ,SAASI,KACjIC,MAAK,SAACjD,GAAD,OAAcA,EAASkD,UAC5BD,MAAK,SAACE,GACH,OAAOA,KAEVC,OAAM,SAACC,GACJ,MAAMA,O,8CAId,OAAOR,MAAM,GAAD,OAAIlC,KAAK8B,IAAT,kDAAsD9B,KAAK+B,UAA3D,oBAAgFI,KAAKC,MAAMJ,aAAaC,QAAQ,SAASI,KAChIC,MAAK,SAACjD,GAAD,OAAcA,EAASkD,UAC5BD,MAAK,SAACE,GACH,OAAOA,KAEVC,OAAM,SAACC,GACJ,MAAMA,S,2CC5BhBC,EAAO,CACXC,OAAQ,CAAC,UAAW,WAAY,QAAS,QAAS,MAAO,OAAQ,QACjEC,SAAU,CACR,CACEC,MAAO,mBACPC,MAAM,EACNC,YAAa,GACbC,gBAAiB,uBACjBC,YAAa,qBACbC,eAAgB,OAChBC,WAAY,GACZC,iBAAkB,EAClBC,gBAAiB,QACjBC,iBAAkB,qBAClBC,qBAAsB,OACtBC,iBAAkB,EAClBC,iBAAkB,EAClBC,0BAA2B,qBAC3BC,sBAAuB,sBACvBC,sBAAuB,EACvBC,YAAa,EACbC,eAAgB,GAChBC,KAAM,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,OAK/BC,EAAM,CACVrB,OAAQ,CAAC,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,aAAc,UAAW,YAAa,aACzHC,SAAU,CACR,CACEC,MAAO,mBACPG,gBAAiB,mBACjBC,YAAa,qBACbgB,YAAa,EACbC,qBAAsB,qBACtBC,iBAAkB,qBAClBJ,KAAM,CAAC,KAAS,KAAS,IAAQ,KAAQ,MAAS,IAAQ,IAAQ,KAAS,KAAQ,KAAQ,KAAQ,QAKnGK,EAAW,CACfzB,OAAQ,CACN,MACA,QACA,UAEFC,SAAU,CACR,CACEmB,KAAM,CAAC,IAAK,GAAI,KAChBf,gBAAiB,CACf,UACA,UACA,WAEFkB,qBAAsB,CACpB,UACA,UACA,cAKFG,EAAU,CACdC,SAAU,CACRC,SAAS,EACTC,OAAQC,kBAEVC,qBAAqB,GAGjBC,E,kDACJ,WAAY3E,GAAQ,IAAD,8BACjB,cAAMA,IACD4E,MAAQ,CACXC,WAAY,GACZC,IAAK,GACLC,SAAS,GALM,E,gEAUjBhF,KAAKiF,oBACLjF,KAAKkF,qB,yCAKa,IAAD,OACjBC,EAAaC,wBACV9C,MAAK,SAACjD,GACL,EAAKgG,SAAS,CACZP,WAAYzF,EACZ2F,SAAS,OAGZvC,OAAM,SAAA6C,GAAC,OAAIhG,QAAQC,IAAI+F,Q,0CAGP,IAAD,OAClBH,EAAaI,yBACVjD,MAAK,SAACjD,GACL,EAAKgG,SAAS,CACZN,IAAK1F,EACL2F,SAAS,OAGZvC,OAAM,SAAA6C,GAAC,OAAIhG,QAAQC,IAAI+F,Q,+BAK1B,IAAIE,EAAa,CAAC,QAAS,UAAW,QAAS,QAAS,OAAQ,QAAS,QAAS,SAAU,aAAc,UAAW,YAAa,aAClI,OAAIxF,KAAK6E,MAAMG,QAEX,kBAAC,IAAD,CAASA,QAAShF,KAAK6E,MAAMG,UAI/B,oCACE,yBAAKlF,UAAU,mBACb,kBAAC,EAAD,CACEK,OAAQ,KAAM,IAAIsF,KAAKC,cAAeC,OAAO3F,KAAK6E,MAAMC,WAAWc,YACnExF,SAAS,gCAGb,yBAAKN,UAAU,mBACb,6BACE,yBAAKA,UAAU,OACZE,KAAK6E,MAAME,IAAIc,KACd,SAACC,EAAMC,GAAP,OACE,yBAAKjG,UAAU,SAASkG,IAAKD,GAC3B,kBAAC5E,EAAA,EAAD,KACE,kBAAC8E,EAAA,EAAD,CAAYnG,UAAU,cACpB,gCAAM0F,EAAWM,EAAKf,IAAM,GAA5B,IAAiCe,EAAKI,KAAtC,MAEF,kBAAC9E,EAAA,EAAD,CAAUtB,UAAU,qBAApB,WACU,6CAAW,IAAI2F,KAAKC,cAAeC,OAAOG,EAAKK,mBAA/C,KACR,sCAchB,kBAAChF,EAAA,EAAD,KACE,kBAAC8E,EAAA,EAAD,kBAEI,yBAAKnG,UAAU,uBACf,uBAAGyB,KAAK,yBAAyBzB,UAAU,sBACzC,2BAAOA,UAAU,cAAjB,WAIN,kBAACsB,EAAA,EAAD,KACE,yBAAKtB,UAAU,iBACb,kBAAC,IAAD,CAAMkE,KAAMrB,EAAM2B,QAASA,OAKjC,kBAACnD,EAAA,EAAD,KACI,kBAAC8E,EAAA,EAAD,iBAEE,yBAAKnG,UAAU,uBACb,uBAAGyB,KAAK,yBAAyBzB,UAAU,sBACzC,2BAAOA,UAAU,cAAjB,WAIN,kBAACsB,EAAA,EAAD,KACE,yBAAKtB,UAAU,iBACb,kBAAC,IAAD,CAAKkE,KAAMC,EAAKK,QAASA,OAK/B,kBAACnD,EAAA,EAAD,KACE,kBAAC8E,EAAA,EAAD,sBAEE,yBAAKnG,UAAU,uBACb,uBAAGyB,KAAK,yBAAyBzB,UAAU,sBACzC,2BAAOA,UAAU,cAAjB,WAIN,kBAACsB,EAAA,EAAD,KACE,yBAAKtB,UAAU,iBACb,kBAAC,IAAD,CAAUkE,KAAMK,Y,GA5HR5C,aAuITmD","file":"static/js/32.742a9235.chunk.js","sourcesContent":["export const handleErrors = response => {\n    console.log(response);\n    \n    //errores del api\n    if(response.success === false) {\n        throw response;\n    }\n    //otros errores\n    if (response) {\n        let messg = {\n            success:false,\n            errors:'Ocurrio un error inesperado de conexión por favor recargue su navegador nuevamente.'\n        }\n        if (response !== \"TypeError: Failed to fetch\") {\n            throw messg;\n        }\n        throw messg;\n    }\n};\n\nexport const generalErrorApi = response => {\n    throw response\n};","import React from 'react';\nimport './loading.css';\nimport Swal from 'sweetalert2'\n\n\nfunction Loading() {\n\n    return (\n        <>\n            <div class=\"container\">\n\n                <div class=\"row\">\n                    <div class=\"col-md-3 offset-md-4\">\n                        <div className=\"container center-block\">\n\n                            <div class=\"lds-facebook\">\n                                <div></div>\n                                <div></div>\n                                <div></div>\n                            </div>\n                            <h4>Cargando...</h4>\n\n\n                        </div>\n                    </div>\n                </div>\n\n            </div>\n        </>\n    );\n}\n\nexport default Loading;","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Card, CardBody, CardFooter } from 'reactstrap';\nimport classNames from 'classnames';\nimport { mapToCssModules } from 'reactstrap/lib/utils';\n\nconst propTypes = {\n  header: PropTypes.string,\n  mainText: PropTypes.string,\n  icon: PropTypes.string,\n  color: PropTypes.string,\n  variant: PropTypes.string,\n  footer: PropTypes.bool,\n  link: PropTypes.string,\n  children: PropTypes.node,\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n};\n\nconst defaultProps = {\n  header: '$1,999.50',\n  mainText: 'Income',\n  icon: 'fa fa-cogs',\n  color: 'primary',\n  variant: '0',\n  link: '#',\n};\n\nclass Widget02 extends Component {\n  render() {\n    const { className, cssModule, header, mainText, icon, color, footer, link, children, variant, ...attributes } = this.props;\n\n    // demo purposes only\n    const padding = (variant === '0' ? { card: 'p-3', icon: 'p-3', lead: 'mt-2' } : (variant === '1' ? {\n      card: 'p-0', icon: 'p-4', lead: 'pt-3',\n    } : { card: 'p-0', icon: 'p-4 px-5', lead: 'pt-3' }));\n\n    const card = { style: 'clearfix', color: color, icon: icon, classes: '' };\n    card.classes = mapToCssModules(classNames(className, card.style, padding.card), cssModule);\n\n    const lead = { style: 'h5 mb-0', color: color, classes: '' };\n    lead.classes = classNames(lead.style, 'text-' + card.color, padding.lead);\n\n    const blockIcon = function (icon) {\n      const classes = classNames(icon, 'bg-' + card.color, padding.icon, 'font-2xl mr-3 float-left');\n      return (<i className={classes}></i>);\n    };\n\n    const cardFooter = function () {\n      if (footer) {\n        return (\n          <CardFooter className=\"px-3 py-2\">\n            <a className=\"font-weight-bold font-xs btn-block text-muted\" href={link}>Ver Más\n              <i className=\"fa fa-angle-right float-right font-lg\"></i></a>\n          </CardFooter>\n        );\n      }\n    };\n\n    return (\n      <Card>\n        <CardBody className={card.classes} {...attributes}>\n          {blockIcon(card.icon)}\n          <div className={lead.classes}>{header}</div>\n          <div className=\"text-muted text-uppercase font-weight-bold font-xs\">{mainText}</div>\n        </CardBody>\n        {cardFooter()}\n      </Card>\n    );\n  }\n}\n\nWidget02.propTypes = propTypes;\nWidget02.defaultProps = defaultProps;\n\nexport default Widget02;","/**\n*Peticiones api\n* @author John Alejandro || @Johnssther\n* @link http://JohnAlejandro.com\n* link Api\n* http://104.236.57.82/accesspark/public/api/login\n*/\n\nimport { generalErrorApi } from '../utils/errors';\n\nclass ApiDashboard {\n    constructor() {\n        let host = window.location.host\n        if (host === \"localhost:3000\") {\n            this.URL = \"http://localhost/coysa/public/api/\";\n        }\n        if (host === \"johnssther.github.io\") {\n            this.URL = \"http://coysa.herokuapp.com/api/\";\n        }\n        if (host === \"http://159.65.226.161:3000\") {\n            this.URL = \"http://localhost/coysa/public/api/\";\n        }\n\n        this.API_TOKEN = localStorage.getItem('token');\n    }\n\n    getTotalExpensesMonths() {\n        return fetch(`${this.URL}dashboard/totalexpensesmonths?api_token=${this.API_TOKEN}&user_id=${JSON.parse(localStorage.getItem('auth')).id}`)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n    getTotalExpensesMonth() {\n        return fetch(`${this.URL}dashboard/totalexpensesmonth?api_token=${this.API_TOKEN}&user_id=${JSON.parse(localStorage.getItem('auth')).id}`)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n\n\n} // close class\n//Total peticiones 2 : ??\nexport default new ApiDashboard();\n","\nimport React, { Component } from 'react';\nimport WidgetO from '../Widgets/Widget02'\n// Main Chart\nimport ApiDashboard from '../../api/dashboard';\nimport {\n  Card, CardBody,\n  CardHeader,\n} from 'reactstrap';\nimport Loading from '../components/loading'\n\nimport { Bar, Doughnut, Line, Pie, Polar, Radar } from 'react-chartjs-2';\n\nimport { CustomTooltips } from '@coreui/coreui-plugin-chartjs-custom-tooltips';\n\nconst line = {\n  labels: ['January', 'February', 'March', 'April', 'May', 'June', 'July'],\n  datasets: [\n    {\n      label: 'My First dataset',\n      fill: false,\n      lineTension: 0.1,\n      backgroundColor: 'rgba(75,192,192,0.4)',\n      borderColor: 'rgba(75,192,192,1)',\n      borderCapStyle: 'butt',\n      borderDash: [],\n      borderDashOffset: 0.0,\n      borderJoinStyle: 'miter',\n      pointBorderColor: 'rgba(75,192,192,1)',\n      pointBackgroundColor: '#fff',\n      pointBorderWidth: 1,\n      pointHoverRadius: 5,\n      pointHoverBackgroundColor: 'rgba(75,192,192,1)',\n      pointHoverBorderColor: 'rgba(220,220,220,1)',\n      pointHoverBorderWidth: 2,\n      pointRadius: 1,\n      pointHitRadius: 10,\n      data: [65, 59, 80, 81, 56, 55, 40],\n    },\n  ],\n};\n\nconst bar = {\n  labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],\n  datasets: [\n    {\n      label: 'My First dataset',\n      backgroundColor: 'rgba(17,168,141)',\n      borderColor: 'rgba(255,99,132,1)',\n      borderWidth: 1,\n      hoverBackgroundColor: 'rgba(168,132,8,66)',\n      hoverBorderColor: 'rgba(255,99,132,1)',\n      data: [1500000, 1100000, 800000, 950000, 1120000, 700000, 800000, 1500000, 540000, 550000, 950000, 800000],\n    },\n  ],\n};\n\nconst doughnut = {\n  labels: [\n    'Red',\n    'Green',\n    'Yellow',\n  ],\n  datasets: [\n    {\n      data: [300, 50, 100],\n      backgroundColor: [\n        '#FF6384',\n        '#36A2EB',\n        '#FFCE56',\n      ],\n      hoverBackgroundColor: [\n        '#FF6384',\n        '#36A2EB',\n        '#FFCE56',\n      ],\n    }],\n};\n\nconst options = {\n  tooltips: {\n    enabled: false,\n    custom: CustomTooltips\n  },\n  maintainAspectRatio: false\n}\n\nclass Dashboard extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      gastoTotal: '',\n      mes: [],\n      loading: true,\n\n    }\n  }\n  componentDidMount() {\n    this.getExpensesMonths()\n    this.getExpensesMonth()\n\n  }\n\n  //getExpenseMont\n  getExpensesMonth() {\n    ApiDashboard.getTotalExpensesMonth()\n      .then((response) => {\n        this.setState({\n          gastoTotal: response,\n          loading: false\n        });\n      })\n      .catch(e => console.log(e))\n  }\n  //getExpenseMonts\n  getExpensesMonths() {\n    ApiDashboard.getTotalExpensesMonths()\n      .then((response) => {\n        this.setState({\n          mes: response,\n          loading: false\n        });\n      })\n      .catch(e => console.log(e))\n  }\n\n\n  render() {\n    let mes_nombre = ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre',]\n    if (this.state.loading) {\n      return (\n        <Loading loading={this.state.loading}></Loading>\n      );\n    }\n    return (\n      <>\n        <div className=\"animated fadeIn\">\n          <WidgetO\n            header={'$' + new Intl.NumberFormat().format(this.state.gastoTotal.toString())}\n            mainText='Gastos totales de este mes'\n          />\n        </div>\n        <div className=\"animated fadeIn\">\n          <div>\n            <div className=\"row\">\n              {this.state.mes.map(\n                (item, index) =>\n                  <div className=\"col-sm\" key={index}>\n                    <Card>\n                      <CardHeader className=\"bg-primary\">\n                        <h4> {mes_nombre[item.mes - 1]} {item.anio} </h4>\n                      </CardHeader>\n                      <CardBody className=\"bg-info text-dark\">\n                        Gastos: <h3> {`$ ${new Intl.NumberFormat().format(item.precio_total_mes)}`} </h3>\n                        <hr></hr>\n                      </CardBody>\n                      {/* <CardFooter>\n                          <Button type=\"submit\" size=\"sm\" color=\"primary\"><i className=\"fa fa-dot-circle-o\"></i> Imprimir Gastos</Button>\n                        </CardFooter> */}\n                    </Card>\n                  </div>\n              )\n              }\n\n            </div>\n          </div>\n        </div>\n\n        <Card>\n          <CardHeader>\n            Line Chart\n              <div className=\"card-header-actions\">\n              <a href=\"http://www.chartjs.org\" className=\"card-header-action\">\n                <small className=\"text-muted\">docs</small>\n              </a>\n            </div>\n          </CardHeader>\n          <CardBody>\n            <div className=\"chart-wrapper\">\n              <Line data={line} options={options} />\n            </div>\n          </CardBody>\n        </Card>\n\n        <Card>\n            <CardHeader>\n              Bar Chart\n              <div className=\"card-header-actions\">\n                <a href=\"http://www.chartjs.org\" className=\"card-header-action\">\n                  <small className=\"text-muted\">docs</small>\n                </a>\n              </div>\n            </CardHeader>\n            <CardBody>\n              <div className=\"chart-wrapper\">\n                <Bar data={bar} options={options}/>\n              </div>\n            </CardBody>\n          </Card>\n\n          <Card>\n            <CardHeader>\n              Doughnut Chart\n              <div className=\"card-header-actions\">\n                <a href=\"http://www.chartjs.org\" className=\"card-header-action\">\n                  <small className=\"text-muted\">docs</small>\n                </a>\n              </div>\n            </CardHeader>\n            <CardBody>\n              <div className=\"chart-wrapper\">\n                <Doughnut data={doughnut} />\n              </div>\n            </CardBody>\n          </Card>\n\n      </>\n    );\n  }\n\n}\n\nexport default Dashboard;"],"sourceRoot":""}