(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[18],{1039:function(e,t,a){"use strict";a.r(t);var o=a(235),n=a(236),i=a(238),l=a(237),s=a(240),r=a(239),c=a(2),g=a.n(c),u=a(1002),m=a(985),h=a(914),p=a(923),d=a(915),f=a(1028),E=a(1029),b=a(935),v=a(1030),y=a(913),O=(a(938),new(function(){function e(){Object(o.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(n.a)(e,[{key:"getGastosReport",value:function(e){return console.log(e),fetch("".concat(this.URL,"gastosreport?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"&filterDate_in=").concat(e.filterDate_in,"&filterDate_out=").concat(e.filterDate_out,"&filterTipogasto=").concat(e.filterTipogasto)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}}]),e}())),k=a(909),C=a(958),S=a.n(C),N=a(1035),_=a(1031),j=(a(940),{header:{borderColor:"transparent"},rows:{spacing:"spaced",spacingBorderRadius:"50px",spacingMargin:"3px",borderColor:"rgba(0,0,0,.12)",backgroundColor:"white",height:"52px"},cells:{cellPadding:"48px"},footer:{separatorStyle:"none"}}),D=[{name:"Fecha",selector:"fecha",sortable:!0,cell:function(e){return g.a.createElement("div",null,g.a.createElement("div",{style:{fontWeight:700}},e.fecha),e.summary)}},{name:"Tipo de gasto",selector:"tipo_gasto",sortable:!0},{name:"Cantidad",selector:"cantidad",sortable:!0},{name:"Gasto",selector:"gasto",sortable:!0},{name:"Precio Unid.",selector:"preciounid",sortable:!0},{name:"Precio Total",selector:"precio",sortable:!0},{cell:function(e){return g.a.createElement(g.a.Fragment,null)},allowOverflow:!0,button:!0,width:"56px"}],w=function(){var e=T();return g.a.createElement("div",{className:e.root},g.a.createElement(N.a,{color:"secondary"}))},L=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(r.a)(t,e),Object(n.a)(t,[{key:"render",value:function(){return g.a.createElement(g.a.Fragment,null,g.a.createElement(S.a,{title:this.props.title,columns:D,data:this.props.gastos,highlightOnHover:!0,pagination:!0,customTheme:j,expandableRows:!0,expandOnRowClicked:!0,progressPending:this.props.loading,progressComponent:g.a.createElement(w,{data:this.props.gastos}),progressShowTableHead:!0,ignoreRowClick:!0}))}}]),t}(c.Component),T=Object(_.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}})),I=L,x=a(930),P=a(924),R=a.n(P),F=a(962),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).tipoGasto=function(e,t){a.setState({inputTipogasto:e.value})},a.state={filterDate_in:R()(),filterDate_out:R()(),inputTipogasto:"",gastosShow:!0,data:[],inputFecha:R()(),loading:!1},a.getGastosReport=a.getGastosReport.bind(Object(s.a)(a)),a.toggleLarge=a.toggleLarge.bind(Object(s.a)(a)),a.toggleLargeOut=a.toggleLargeOut.bind(Object(s.a)(a)),a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"getGastosReport",value:function(){var e=this;if(""===this.state.filterDate_in||""===this.state.filterDate_out)return alert("Debe ingresar una fecha inicial y una fecha final"),!1;this.setState({loading:!0});var t={filterDate_in:this.state.filterDate_in.format("YYYY/M/D"),filterDate_out:this.state.filterDate_out.format("YYYY/M/D"),filterTipogasto:this.state.inputTipogasto};console.log(this.state.inputTipogasto),O.getGastosReport(t).then((function(t){console.log(t,"Estos son los gastos de las fechas que seleccionaste");var a=t.map((function(e){return{id:e.id,fecha:e.fecha,tipo_gasto:e.tipo_gasto,cantidad:e.cantidad,gasto:e.gasto,preciounid:"$ "+(new Intl.NumberFormat).format(e.precio_unidad),precio:"$ "+(new Intl.NumberFormat).format(e.precio_total)}}));e.setState({data:a,loading:!1})})).catch((function(e){return console.log(e)}))}},{key:"toggleLarge",value:function(){this.setState({large:!this.state.large})}},{key:"toggleLargeOut",value:function(){this.setState({largeout:!this.state.largeout})}},{key:"componentDidMount",value:function(){var e=this;k.a.getTipogastos().then((function(t){var a=t.map((function(e){return{value:e.id,label:e.gasto}}));e.setState({options:a,loading:!1,textError:""})}))}},{key:"render",value:function(){var e=this;return g.a.createElement(g.a.Fragment,null,g.a.createElement(u.a,{isOpen:this.state.large,toggle:this.toggleLarge,className:"modal-danger "+this.props.className},g.a.createElement(m.a,{toggle:this.toggleLarge},"Fecha"),g.a.createElement(x.Calendar,{style:{backgroundColo:"red"},onChange:function(t){return e.setState({filterDate_in:t})},value:this.state.filterDate_in})),g.a.createElement(u.a,{isOpen:this.state.largeout,toggle:this.toggleLargeOut,className:"modal-danger "+this.props.className},g.a.createElement(m.a,{toggle:this.toggleLargeOut},"Fecha"),g.a.createElement(x.Calendar,{style:{backgroundColo:"red"},onChange:function(t){return e.setState({filterDate_out:t})},value:this.state.filterDate_out})),g.a.createElement("div",{className:"animated fadeIn"},g.a.createElement("div",null,g.a.createElement("div",{className:"container"},g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-sm"},g.a.createElement(h.a,null,g.a.createElement(p.a,null,g.a.createElement("strong",null,"Obtener Gastos")),g.a.createElement(d.a,null,g.a.createElement("div",{className:"row"},g.a.createElement("div",{className:"col-sm"},g.a.createElement(f.a,null,g.a.createElement(E.a,{htmlFor:"filterDate_in"},"Fecha Inicial"),g.a.createElement(b.a,{onClick:this.toggleLarge,value:this.state.filterDate_in.format("YYYY/M/D"),placeholder:"Fecha de inicio",type:"texty",id:"filterDate_in",name:"filterDate_in"}))),g.a.createElement("div",{className:"col-sm"},g.a.createElement(f.a,null,g.a.createElement(E.a,{htmlFor:"filterDate_out"},"Fecha Final"),g.a.createElement(b.a,{onClick:this.toggleLargeOut,value:this.state.filterDate_out.format("YYYY/M/D"),placeholder:"Fecha Fin",type:"text",id:"filterDate_out",name:"filterDate_out"}))),g.a.createElement("div",{className:"col-sm"},g.a.createElement(f.a,null,g.a.createElement(E.a,{htmlFor:"inputTipogasto"},"Tipo Gasto"),g.a.createElement(F.a,{options:this.state.options,onChange:this.tipoGasto}),!0===this.state.loading?g.a.createElement(v.a,{color:"success"}):"")),g.a.createElement("div",{className:"col-sm"},g.a.createElement(f.a,null,g.a.createElement(y.a,{color:"primary",key:"add",onClick:this.getGastosReport},"Obtener")))),g.a.createElement(I,{gastos:this.state.data,loading:this.state.loading,title:""})))))))))}}]),t}(c.Component);t.default=U},909:function(e,t,a){"use strict";var o=a(235),n=a(236),i=function(){function e(){Object(o.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(n.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precioUnidad,precio_total:e.precioTotal,fecha:e.Fecha,user_id:e.id_usuario,tipogasto_id:e.tipogasto_id})}).then((function(e){return console.log("objeto guardado"),e.json()})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getTipogastos",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}}]),e}();t.a=new i},925:function(e,t,a){"use strict";var o={};a.r(o),a.d(o,"setConfiguracion",(function(){return n}));var n=function(e){return{type:"SET_CONFIGURACION",payload:e}};a.d(t,"a",(function(){return i}));var i={configuracion:o}},938:function(e,t,a){"use strict";var o=a(235),n=a(236),i=a(238),l=a(237),s=a(240),r=a(239),c=a(2),g=a.n(c),u=a(1002),m=a(985),h=a(986),p=a(924),d=a.n(p),f=a(930);c.Component},940:function(e,t,a){"use strict";var o=a(235),n=a(236),i=a(238),l=a(237),s=a(240),r=a(239),c=a(2),g=a.n(c),u=a(913),m=a(1002),h=a(985),p=a(986),d=a(987),f=a(242),E=(a(925),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(l.a)(t).call(this,e))).state={modal:!1,large:a.props.config.modalActiva,small:!1,primary:!1,success:!1,warning:!1,danger:!1,info:!1},a.toggle=a.toggle.bind(Object(s.a)(a)),a.toggleLarge=a.toggleLarge.bind(Object(s.a)(a)),a.toggleSmall=a.toggleSmall.bind(Object(s.a)(a)),a.togglePrimary=a.togglePrimary.bind(Object(s.a)(a)),a.toggleSuccess=a.toggleSuccess.bind(Object(s.a)(a)),a.toggleWarning=a.toggleWarning.bind(Object(s.a)(a)),a.toggleDanger=a.toggleDanger.bind(Object(s.a)(a)),a.toggleInfo=a.toggleInfo.bind(Object(s.a)(a)),a}return Object(r.a)(t,e),Object(n.a)(t,[{key:"toggle",value:function(){this.setState({modal:!this.state.modal})}},{key:"toggleLarge",value:function(){this.setState({large:!this.state.large})}},{key:"toggleSmall",value:function(){this.setState({small:!this.state.small})}},{key:"togglePrimary",value:function(){this.setState({primary:!this.state.primary})}},{key:"toggleSuccess",value:function(){this.setState({success:!this.state.success})}},{key:"toggleWarning",value:function(){this.setState({warning:!this.state.warning})}},{key:"toggleDanger",value:function(){this.setState({danger:!this.state.danger})}},{key:"toggleInfo",value:function(){this.setState({info:!this.state.info})}},{key:"render",value:function(){return g.a.createElement("div",{className:"animated fadeIn"},"toggle"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggle,className:"mr-1"},this.props.name):"","toggleLarge"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleLarge,className:"mr-1"},this.props.name):"","toggleSmall"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleSmall,className:"mr-1"},this.props.name):"","togglePrimary"===this.props.modal?g.a.createElement(u.a,{onClick:this.togglePrimary,className:"mr-1"},this.props.name):"","toggleDanger"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleDanger,className:"mr-1"},this.props.name):"","toggleWarning"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleWarning,className:"mr-1"},this.props.name):"","toggleSuccess"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleSuccess,className:"mr-1"},this.props.name):"","toggleInfo"===this.props.modal?g.a.createElement(u.a,{onClick:this.toggleInfo,className:"mr-1"},this.props.name):"",g.a.createElement(m.a,{isOpen:this.state.modal,toggle:this.toggle,className:this.props.className},g.a.createElement(h.a,{toggle:this.toggle},"Modal title"),g.a.createElement(p.a,null,this.props.children),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"primary",onClick:this.toggle},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggle},"Cancel"))),g.a.createElement(m.a,{isOpen:this.state.large!==this.props.cerrarmodal,toggle:this.toggleLarge,className:"modal-lg "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleLarge},this.props.title),g.a.createElement(p.a,null,this.props.children),g.a.createElement(d.a,null,g.a.createElement(u.a,{onClick:this.toggleLarge},"Cancelar")," ")),g.a.createElement(m.a,{isOpen:this.state.small,toggle:this.toggleSmall,className:"modal-sm "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleSmall},"Modal title"),g.a.createElement(p.a,null,this.props.children),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"primary",onClick:this.toggleSmall},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggleSmall},"Cancel"))),g.a.createElement(m.a,{isOpen:this.state.primary,toggle:this.togglePrimary,className:"modal-primary "+this.props.className},g.a.createElement(h.a,{toggle:this.togglePrimary},this.props.title),g.a.createElement(p.a,null,this.props.children),g.a.createElement(d.a,null,g.a.createElement(u.a,{onClick:this.togglePrimary},"Cancelar")," ")),g.a.createElement(m.a,{isOpen:this.state.success,toggle:this.toggleSuccess,className:"modal-success "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleSuccess},"Modal title"),g.a.createElement(p.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"success",onClick:this.toggleSuccess},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggleSuccess},"Cancel"))),g.a.createElement(m.a,{isOpen:this.state.warning,toggle:this.toggleWarning,className:"modal-warning "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleWarning},"Modal title"),g.a.createElement(p.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"warning",onClick:this.toggleWarning},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggleWarning},"Cancel"))),g.a.createElement(m.a,{isOpen:this.state.danger,toggle:this.toggleDanger,className:"modal-danger   "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleDanger},"Modal title"),g.a.createElement(p.a,null,this.props.children),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"danger",onClick:this.toggleDanger},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggleDanger},"Cancel"))),g.a.createElement(m.a,{isOpen:this.state.info,toggle:this.toggleInfo,className:"modal-info "+this.props.className},g.a.createElement(h.a,{toggle:this.toggleInfo},"Modal title"),g.a.createElement(p.a,null,"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum."),g.a.createElement(d.a,null,g.a.createElement(u.a,{color:"primary",onClick:this.toggleInfo},"Do Something")," ",g.a.createElement(u.a,{color:"secondary",onClick:this.toggleInfo},"Cancel"))))}}]),t}(c.Component));t.a=Object(f.b)((function(e){return{config:e.configuracion.configuracionUsuario}}),(function(e){return{actions:{}}}))(E)}}]);
//# sourceMappingURL=18.1b564c32.chunk.js.map