(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[34],{1020:function(e,a,t){"use strict";t.r(a);var n=t(508),r=t.n(n),l=t(509),c=t(159),s=t(160),o=t(165),i=t(162),u=t(161),m=t(1),p=t.n(m),h=t(158),d=t(18),g=t(748),E=t(582),v=t(583),f=t(1001),w=t(662),b=t(663),y=t(836),N=t(695),k=t(696),x=t(642),S=t(672),O=t(643),L=t(517),I=function(){var e=Object(l.a)(r.a.mark((function e(a,t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(L.a.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:a,password:t})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(a,t){return e.apply(this,arguments)}}(),j=t(835),C=function(e){Object(i.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(c.a)(this,t),(n=a.call(this,e)).state={inputUsername:"",inputPassword:"",errorLogin:!1,auth:null!=localStorage.getItem("token"),loading:!1},n.onLogin=n.onLogin.bind(Object(o.a)(n)),n}return Object(s.a)(t,[{key:"onLogin",value:function(){var e=Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0,errorLogin:!1}),e.prev=1,e.next=4,I(this.state.inputUsername,this.state.inputPassword);case 4:(a=e.sent).username&&(localStorage.setItem("auth",JSON.stringify(a)),localStorage.setItem("token",a.api_token),this.props.history.push("/")),"The given data was invalid."===a.message&&this.setState({errorLogin:!0,loading:!1}),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),this.setState({loading:!1}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return p.a.createElement("div",{className:"app flex-row align-items-center"},p.a.createElement(g.a,null,!0===this.state.errorLogin?p.a.createElement("div",{className:"alert alert-warning",role:"alert"},"Error: Credenciales incorrectas"):p.a.createElement("div",null),p.a.createElement(E.a,{className:"justify-content-center"},p.a.createElement(v.a,{md:"8"},!0===this.state.loading?p.a.createElement(j.a,null):"",p.a.createElement(f.a,null,p.a.createElement(w.a,{className:"p-4"},p.a.createElement(b.a,null,p.a.createElement(y.a,null,p.a.createElement("h1",null,"Iniciar Sesi\xf3n"),p.a.createElement("p",{className:"text-muted"},"Ingresa si ya tienes una cuenta"),p.a.createElement(N.a,{className:"mb-3"},p.a.createElement(k.a,{addonType:"prepend"},p.a.createElement(x.a,null,p.a.createElement("i",{className:"icon-user"}))),p.a.createElement(S.a,{type:"text",placeholder:"Usuario",autoComplete:"username",onChange:function(a){return e.setState({inputUsername:a.target.value})}})),p.a.createElement(N.a,{className:"mb-4"},p.a.createElement(k.a,{addonType:"prepend"},p.a.createElement(x.a,null,p.a.createElement("i",{className:"icon-lock"}))),p.a.createElement(S.a,{type:"password",placeholder:"Contrace\xf1a",autoComplete:"current-password",onChange:function(a){return e.setState({inputPassword:a.target.value})}})),p.a.createElement(E.a,null,p.a.createElement(v.a,{xs:"6"},p.a.createElement(O.a,{color:"warning",className:"px-4",onClick:this.onLogin},"Iniciar ses\xf3n")),p.a.createElement(v.a,{xs:"6",className:"text-right"},p.a.createElement(h.Link,{to:"/register"},"Crear una cuenta."),p.a.createElement("br",null),p.a.createElement("a",{href:"http://coysa.herokuapp.com/password/reset",target:"blank"},"Olvid\xe9 mi contrase\xf1a")))))),p.a.createElement(w.a,{className:"text-white py-5 d-md-down-none",style:{background:"#FFA73D",width:"44%"}},p.a.createElement(b.a,{className:"text-center"},p.a.createElement("div",null,p.a.createElement("h2",null,"Crea tu cuenta"),p.a.createElement("p",null,"Registrate y vive una verdadera experiencia para llevar el control de tus finanzas personales"),p.a.createElement(h.Link,{to:"/register"},p.a.createElement(O.a,{color:"warning",className:"mt-3",active:!0,tabIndex:-1},"Registrate Ahora!"))))))))),!0===this.state.auth&&p.a.createElement(d.c,{from:"/",to:"/"}))}}]),t}(m.Component);a.default=C},517:function(e,a,t){"use strict";var n=function(){var e=window.location.host,a=null;return"localhost:3000"===e&&(a="http://localhost/coysa-laravel6/public/api/"),"johnssther.github.io"===e&&(a="http://coysa.herokuapp.com/api/"),"http://159.65.226.161:3000"===e&&(a="http://localhost/coysa-laravel6/public/api/"),{URL:a,API_TOKEN:localStorage.getItem("token")}};a.a={URL:n().URL,API_TOKEN:n().API_TOKEN,id:null==JSON.parse(localStorage.getItem("auth"))?null:JSON.parse(localStorage.getItem("auth")).id}}}]);
//# sourceMappingURL=34.64ada521.chunk.js.map