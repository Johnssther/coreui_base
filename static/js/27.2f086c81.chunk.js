(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[27],{437:function(e,t,n){"use strict";const r=()=>{const e=window.location.host;let t=null;return"localhost:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),"johnssther.github.io"===e&&(t="https://x.johnr.top/api/"),"http://159.65.226.161:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),t="https://x.johnr.top/api/",{URL:t,API_TOKEN:localStorage.getItem("token")}};t.a={URL:r().URL,API_TOKEN:r().API_TOKEN,id:null==JSON.parse(localStorage.getItem("auth"))?null:JSON.parse(localStorage.getItem("auth")).id}},444:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r={};n.r(r),n.d(r,"setConfiguracion",(function(){return c}));var a={};n.r(a),n.d(a,"setPersonalexpense",(function(){return s})),n.d(a,"setPersonalexpenses",(function(){return i}));var o={};n.r(o),n.d(o,"setRevenueIndex",(function(){return l})),n.d(o,"setRevenueStore",(function(){return d})),n.d(o,"setRevenueShow",(function(){return p})),n.d(o,"setRevenueUpdate",(function(){return v})),n.d(o,"setRevenueDelete",(function(){return E}));const c=e=>({type:"SET_CONFIGURACION",payload:e}),s=e=>({type:"SET_PERSONALEXPENSE",payload:e}),i=e=>({type:"SET_PERSONALEXPENSES",payload:e});var u=n(451);const l=e=>({type:"SET_REVENUE_INDEX",payload:e}),d=e=>({type:"SET_REVENUE_STORE",payload:e}),p=e=>({type:"SET_REVENUE_SHOW",payload:e}),v=e=>({type:"SET_REVENUE_UPDATE",payload:e}),E=e=>({type:"SET_REVENUE_DELETE",payload:e}),m={configuracion:r,personalexpenses:a,expensestype:u,revenues:o}},445:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(476),a=n.n(r);const o=e=>{if(console.log(e),!1===e.success)throw e;if(e){let t={success:!1,errors:"Ocurrio un error inesperado de conexi\xf3n por favor recargue su navegador nuevamente."};if(a.a.fire({title:"Atenci\xf3n",text:t.errors,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, recargar de nuevo"}).then(e=>{e.value&&window.location.reload()}),"TypeError: Failed to fetch"!==e)throw t;throw t}},c=e=>{throw e}},451:function(e,t,n){"use strict";n.r(t),n.d(t,"setExpensestype",(function(){return r}));const r=e=>({type:"SET_EXPENSES_TYPE",payload:e})},524:function(e,t,n){"use strict";var r=n(0),a=n.n(r),o=n(780),c=n(928);const s=Object(c.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}));t.a=()=>{const e=s();return a.a.createElement("div",{className:e.root},a.a.createElement(o.a,{color:"secondary"}))}},587:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))},591:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return i}));var r=n(437);var a=n(445),o=n(444),c=n(104);const s=async()=>{try{const e=await(async()=>{const e=await fetch("".concat(r.a.URL,"revenues?api_token=").concat(r.a.API_TOKEN,"&user_id=").concat(r.a.id));return await e.json()})();return c.b.dispatch(o.a.revenues.setRevenueIndex(e)),!0}catch(e){Object(a.b)(e)}},i=async e=>{try{const t=await(async e=>{const t=await fetch("".concat(r.a.URL,"revenues"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:r.a.API_TOKEN,revenue_dt:e.revenue_dt,revenue_name:e.revenue_name,revenue_amount:e.revenue_amount,revenue_description:e.revenue_description,revenue_saving_percentaje:e.revenue_saving_percentaje,revenue_user:r.a.id})});return await t.json()})(e);if(!1!==t.success)return t;Object(a.a)(t)}catch(t){Object(a.b)(t)}}},971:function(e,t,n){"use strict";n.r(t);var r,a,o=n(0),c=n.n(o),s=n(587),i=n(613),u=n.n(i),l=n(524),d=n(585),p=n(608),v=n(509),E=n(609),m=n(614);const f={header:{borderColor:"red",backgroundColor:"primary"},rows:{spacingBorderRadius:"7px",spacingMargin:"1px",backgroundColor:"white"},cells:{},footer:{separatorStyle:"none"}},h=m.default.input(r||(r=Object(s.a)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),g=Object(m.default)(d.a)(a||(a=Object(s.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),b=e=>{let{filterText:t,onFilter:n,onClear:r}=e;return c.a.createElement(c.a.Fragment,null,c.a.createElement(h,{id:"search",type:"text",placeholder:"Browser Expense",value:t,onChange:n}),c.a.createElement(g,{type:"button",onClick:r},"X"))},y=[{name:"Revenue date",selector:"revenue_dt",wrap:!0,sortable:!0,cell:e=>c.a.createElement("div",null,c.a.createElement("div",{style:{fontWeight:700}},e.revenue_dt),e.summary),grow:1},{name:"Revenue name",selector:"revenue_name",wrap:!0,sortable:!0,grow:2},{name:"Revenue amount",selector:"revenue_amount",sortable:!0,grow:0},{name:"Revenue saving percentaje",selector:"revenue_saving_percentaje",cell:e=>c.a.createElement("div",null,c.a.createElement("div",{style:{fontWeight:700}},e.revenue_saving_percentaje,"%"),e.summary),sortable:!0},{name:"Revenue description",selector:"revenue_description",wrap:!0,sortable:!0,grow:4},{cell:e=>c.a.createElement(c.a.Fragment,null),allowOverflow:!0,button:!0,width:"56px"}];var _=function(e){const{revenues:t,loading:n,onNew:r}=e,[a,o]=c.a.useState(""),[s,i]=c.a.useState(!1),m=t.filter(e=>e.revenue_description&&e.revenue_description.toLowerCase().includes(a.toLowerCase())),h=c.a.useMemo(()=>c.a.createElement(b,{onFilter:e=>o(e.target.value),onClear:()=>{a&&(i(!s),o(""))},filterText:a}),[a,s]);return console.log(n),c.a.createElement(p.a,null,c.a.createElement(v.a,null,c.a.createElement("i",{className:"fa fa-align-justify"}),c.a.createElement("strong",null,"Daily Revenues"),c.a.createElement("small",null," Revenues ")),c.a.createElement(E.a,null,c.a.createElement(u.a,{title:"Personal Revenues",columns:y,data:m,actions:c.a.createElement(d.a,{name:"Add",onClick:r},c.a.createElement("i",{className:"fa fa-plus m-1"}),"Add"),highlightOnHover:!0,pagination:!0,customTheme:f,progressPending:n,progressComponent:c.a.createElement(l.a,{data:t}),progressShowTableHead:!0,ignoreRowClick:!0,theme:"solarized",subHeader:!0,subHeaderComponent:h})))},w=n(140),x=n(591);t.default=Object(w.b)(e=>({revenues:e.revenues.indexrevenue}))((function(e){const{revenues:t}=e,[n,r]=Object(o.useState)(!0);return Object(o.useEffect)(()=>{!async function(){let e=await Object(x.a)();r(!e)}()},[]),c.a.createElement(_,{revenues:t,onNew:()=>{e.history.push("/revenues/create")},loading:n})}))}}]);
//# sourceMappingURL=27.2f086c81.chunk.js.map