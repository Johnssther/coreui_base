(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{1034:function(e,t,n){"use strict";n.r(t);var r=n(512),a=n.n(r),o=n(513),c=n(514),s=n(1),u=n.n(s),i=n(651),l=n(674),p=n.n(l),f=n(163),d=n(593),h=n(649),b=n(669),m=n(706),E=n(670),x=n(675);function v(){var e=Object(i.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]);return v=function(){return e},e}function g(){var e=Object(i.a)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return g=function(){return e},e}var w={header:{borderColor:"red",backgroundColor:"primary"},rows:{spacingBorderRadius:"7px",spacingMargin:"1px",backgroundColor:"white"},cells:{},footer:{separatorStyle:"none"}},y=x.default.input(g()),O=Object(x.default)(h.a)(v()),_=function(e){var t=e.filterText,n=e.onFilter,r=e.onClear;return u.a.createElement(u.a.Fragment,null,u.a.createElement(y,{id:"search",type:"text",placeholder:"Browser Expense",value:t,onChange:n}),u.a.createElement(O,{type:"button",onClick:r},"X"))},j=[{name:"Actions",selector:"id",sortable:!0,cell:function(e){return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.Link,{to:"/expenses/moduls/personalexpenses/show/".concat(e.id)},u.a.createElement("i",{title:"Show",className:"text-success fa fa-eye m-1"})),null===e.urlfile?null:u.a.createElement("a",{href:e.urlfile,target:"_blank"},u.a.createElement("i",{title:"File",className:"text-success fa fa-file m-1"})))},grow:0},{name:"Date",selector:"fecha",wrap:!0,sortable:!0,cell:function(e){return u.a.createElement("div",null,u.a.createElement("div",{style:{fontWeight:700}},e.fecha),e.summary)},grow:0},{name:"Expense type",selector:"tipo_gasto",wrap:!0,sortable:!0,grow:0},{name:"Count",selector:"cantidad",sortable:!0,grow:0},{name:"Expense",selector:"gasto",wrap:!0,sortable:!0,grow:4},{name:"Unit price",selector:"precio_unidad",sortable:!0},{name:"Total price",selector:"precio_total",sortable:!0},{cell:function(e){return u.a.createElement(u.a.Fragment,null)},allowOverflow:!0,button:!0,width:"56px"}];var S=function(e){var t=e.expenses,n=e.loading,r=e.onNew,a=u.a.useState(""),o=Object(c.a)(a,2),s=o[0],i=o[1],l=u.a.useState(!1),f=Object(c.a)(l,2),x=f[0],v=f[1],g=t.filter((function(e){return e.gasto&&e.gasto.toLowerCase().includes(s.toLowerCase())})),y=u.a.useMemo((function(){return u.a.createElement(_,{onFilter:function(e){return i(e.target.value)},onClear:function(){s&&(v(!x),i(""))},filterText:s})}),[s,x]);return console.log(n),u.a.createElement(b.a,null,u.a.createElement(m.a,null,u.a.createElement("i",{className:"fa fa-align-justify"}),u.a.createElement("strong",null,"Daily Expenses"),u.a.createElement("small",null," Expenses ")),u.a.createElement(E.a,null,u.a.createElement(p.a,{title:"Personal Expenses",columns:j,data:g,actions:u.a.createElement(h.a,{name:"Add",onClick:r},u.a.createElement("i",{className:"fa fa-plus m-1"}),"Add"),highlightOnHover:!0,pagination:!0,customTheme:w,progressPending:n,progressComponent:u.a.createElement(d.a,{data:t}),progressShowTableHead:!0,ignoreRowClick:!0,theme:"solarized",subHeader:!0,subHeaderComponent:y})))},T=n(164),N=n(562);t.default=Object(T.b)((function(e){return{expenses:e.personalexpenses.personalexpenses}}))((function(e){var t=e.expenses,n=Object(s.useState)(!0),r=Object(c.a)(n,2),i=r[0],l=r[1];return Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(a.a.mark((function e(){var t;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(N.b)();case 2:t=e.sent,console.log(t),l(!t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),u.a.createElement(S,{expenses:t,onNew:function(){e.history.push("/expenses/moduls/personalexpenses/create")},loading:i})}))},521:function(e,t,n){"use strict";var r=function(){var e=window.location.host,t=null;return"localhost:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),"johnssther.github.io"===e&&(t="http://coysa.herokuapp.com/api/"),"http://159.65.226.161:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),{URL:t,API_TOKEN:localStorage.getItem("token")}};t.a={URL:r().URL,API_TOKEN:r().API_TOKEN,id:null==JSON.parse(localStorage.getItem("auth"))?null:JSON.parse(localStorage.getItem("auth")).id}},527:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r={};n.r(r),n.d(r,"setConfiguracion",(function(){return c}));var a={};n.r(a),n.d(a,"setPersonalexpense",(function(){return s})),n.d(a,"setPersonalexpenses",(function(){return u}));var o={};n.r(o),n.d(o,"setRevenueIndex",(function(){return l})),n.d(o,"setRevenueStore",(function(){return p})),n.d(o,"setRevenueShow",(function(){return f})),n.d(o,"setRevenueUpdate",(function(){return d})),n.d(o,"setRevenueDelete",(function(){return h}));var c=function(e){return{type:"SET_CONFIGURACION",payload:e}},s=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},u=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}},i=n(534),l=function(e){return{type:"SET_REVENUE_INDEX",payload:e}},p=function(e){return{type:"SET_REVENUE_STORE",payload:e}},f=function(e){return{type:"SET_REVENUE_SHOW",payload:e}},d=function(e){return{type:"SET_REVENUE_UPDATE",payload:e}},h=function(e){return{type:"SET_REVENUE_DELETE",payload:e}},b={configuracion:r,personalexpenses:a,expensestype:i,revenues:o}},528:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return c}));var r=n(559),a=n.n(r),o=function(e){if(console.log(e),!1===e.success)throw e;if(e){var t={success:!1,errors:"Ocurrio un error inesperado de conexi\xf3n por favor recargue su navegador nuevamente."};if(a.a.fire({title:"Atenci\xf3n",text:t.errors,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, recargar de nuevo"}).then((function(e){e.value&&window.location.reload()})),"TypeError: Failed to fetch"!==e)throw t;throw t}},c=function(e){throw e}},534:function(e,t,n){"use strict";n.r(t),n.d(t,"setExpensestype",(function(){return r}));var r=function(e){return{type:"SET_EXPENSES_TYPE",payload:e}}},562:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return E}));var r=n(512),a=n.n(r),o=n(513),c=n(521),s=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a.URL,"gastos?api_token=").concat(c.a.API_TOKEN,"&user_id=").concat(c.a.id,"&mes=").concat(t.mes));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:c.a.API_TOKEN,gasto:t.gasto,justification:t.justification,urlfile:t.urlfile,cantidad:t.cantidad,precio_unidad:t.precio_unidad,precio_total:t.precio_total,fecha:t.fecha,user_id:t.user_id,tipogasto_id:t.tipogasto_id})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),i=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a.URL,"gastos/").concat(t.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:c.a.API_TOKEN,gasto:t.gasto,justification:t.justification,urlfile:t.urlfile,cantidad:t.cantidad,precio_unidad:t.precio_unidad,precio_total:t.precio_total,fecha:t.fecha,user_id:t.user_id,tipogasto_id:t.tipogasto_id})});case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(c.a.URL,"gastos/").concat(t.id,"?api_token=").concat(c.a.API_TOKEN,"&user_id=").concat(c.a.id));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=n(528),f=n(527),d=n(107),h=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,s(t);case 4:return n=e.sent,d.b.dispatch(f.a.personalexpenses.setPersonalexpenses(n)),e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(1),Object(p.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u(t);case 3:if(!1!==(n=e.sent).success){e.next=8;break}Object(p.a)(n),e.next=9;break;case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(p.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i(t);case 3:if(!1!==(n=e.sent).success){e.next=8;break}Object(p.a)(n),e.next=9;break;case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(p.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,l(t);case 3:return n=e.sent,e.next=6,d.b.dispatch(f.a.personalexpenses.setPersonalexpense(n));case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(0),Object(p.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},593:function(e,t,n){"use strict";var r=n(1),a=n.n(r),o=n(844),c=n(994),s=Object(c.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));t.a=function(){var e=s();return a.a.createElement("div",{className:e.root},a.a.createElement(o.a,{color:"secondary"}))}},651:function(e,t,n){"use strict";function r(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}n.d(t,"a",(function(){return r}))}}]);
//# sourceMappingURL=25.9f0b98b8.chunk.js.map