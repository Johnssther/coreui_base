(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[24],{1091:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(920),r=a(930),i=a(921),s=a(1010),l=a(1056),u=a(919),d=function(e){var t=e.label,a=e.placeholder,n=Object(u.a)(e,["label","placeholder"]),c=Object(s.c)(n),r=Object(l.a)(c,2),i=r[0],d=r[1],p=o.a.useState(!1),m=Object(l.a)(p,2),h=m[0],f=m[1],g=!!h&&i.value.trim().length>2||d.touched;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:i.name},t),o.a.createElement("input",Object.assign({className:"form-control ".concat(g?d.error?"is-invalid":"is-valid":"")},i,n,{placeholder:a,onFocus:function(){return f(!0)}})),o.a.createElement("div",{className:"valid-feedback"},"Completado"),o.a.createElement("div",{className:"invalid-feedback"},d.error))},p=a(1055),m=(a(1054),a(945));Object(m.a)();var h=function(e){var t=e.onCreate;return o.a.createElement("div",{className:"container"},o.a.createElement(c.a,null,o.a.createElement(r.a,null,"Ingresar GastoI"),o.a.createElement(i.a,null,o.a.createElement(s.b,{initialValues:{gasto:"",cantidad:"",precio_unidad:"",precio_total:"",fecha:"",tipo_gasto:""},validationSchema:p.c({gasto:p.d().min(3,"Un gasto debe tener minimo 3 caracteres.").required("El gasto es obligatorio"),cantidad:p.b().max(99999,"La cantidad no puede exceder de 99.999").positive("La cantidad no puede ser negativa.").required("La cantiad es obligatoria"),precio_unidad:p.b().positive("El precio de la unidad no puede ser negativo.").required("La cantiad es obligatoria"),precio_total:p.b().positive("La cantidad no puede ser negativa."),fecha:p.a().required("La fecha es obligatoria"),tipo_gasto:p.a().required("El tipo de gasto es obligatorio")}),onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!0)}},o.a.createElement(s.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"fecha",type:"date",label:"Fecha",placeholder:"Ingrese la fecha."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"tipo_gasto",type:"text",label:"Tipo Gasto",placeholder:"Ingrese el tipo de gasto."}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement(d,{name:"cantidad",type:"text",label:"Cantidad",placeholder:"Ingrese una cantidad."})),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement(d,{name:"gasto",type:"text",label:"Gasto",placeholder:"Ingrese un gasto."}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"precio_unidad",type:"text",label:"Precio unid.",placeholder:"Ingrese el precio por unidad."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"precio_total",type:"text",label:"Precio total",placeholder:"Ingrese el precio total (opcional)."}))),o.a.createElement("button",{className:"btn btn-success btn-sm",type:"submit"},"Enviar"))))))};Object(m.a)();t.default=function(){return o.a.createElement(h,{onCreate:function(e){console.log(e)}})}},911:function(e,t,a){"use strict";var n=a(236),o=a(237),c=function(){function e(){Object(n.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(o.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precioUnidad,precio_total:e.precioTotal,fecha:e.Fecha,user_id:e.id_usuario,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getTipogastos",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}}]),e}();t.a=new c},918:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"setConfiguracion",(function(){return c}));var o={};a.r(o),a.d(o,"setPersonalexpense",(function(){return r})),a.d(o,"setPersonalexpenses",(function(){return i}));var c=function(e){return{type:"SET_CONFIGURACION",payload:e}},r=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},i=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}};a.d(t,"a",(function(){return s}));var s={configuracion:n,personalexpenses:o}},945:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(961),o=a.n(n),c=a(963),r=a(911),i=a(918),s=a(232),l=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,r.a.getExpenses(t);case 4:a=e.sent,s.b.dispatch(i.a.personalexpenses.setPersonalexpenses(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Ha ocurrido un error"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=24.84053e72.chunk.js.map