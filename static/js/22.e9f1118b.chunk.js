(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{1088:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(943),r=a(920),i=a(931),s=a(921),l=a(982),u=a(941),p=a(913),d=function(e){var t=e.label,a=e.placeholder,n=Object(p.a)(e,["label","placeholder"]),r=Object(u.c)(n),i=Object(c.a)(r,2),s=i[0],l=i[1],d=o.a.useState(!1),m=Object(c.a)(d,2),h=m[0],f=m[1],g=!!h&&s.value.trim().length>2||l.touched;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:s.name},t),o.a.createElement("input",Object.assign({className:"form-control ".concat(g?l.error?"is-invalid":"is-valid":"")},s,n,{placeholder:a,onFocus:function(){return f(!0)},onClick:function(){console.log("fg")}})),o.a.createElement("div",{className:"valid-feedback"},"Completado"),o.a.createElement("div",{className:"invalid-feedback"},l.error))},m=a(1058),h=a(938),f=a(977);Object(f.a)();var g=function(e){var t=e.onCreate,a=e.expensestype,p=Object(n.useState)(2),f=Object(c.a)(p,2),g=f[0],E=f[1];return o.a.createElement("div",{className:"container"},o.a.createElement(r.a,null,o.a.createElement(i.a,null,"Ingresar Gasto"),o.a.createElement(s.a,null,o.a.createElement(u.b,{initialValues:{gasto:"",cantidad:"",precio_unidad:"",precio_total:"",fecha:"",tipo_gasto:g},validationSchema:m.c({gasto:m.d().min(3,"Un gasto debe tener minimo 3 caracteres.").required("El gasto es obligatorio"),cantidad:m.b().max(99999,"La cantidad no puede exceder de 99.999").positive("La cantidad no puede ser negativa.").required("La cantiad es obligatoria"),precio_unidad:m.b().positive("El precio de la unidad no puede ser negativo.").required("La cantiad es obligatoria"),precio_total:m.b().positive("La cantidad no puede ser negativa."),fecha:m.a().required("La fecha es obligatoria"),tipo_gasto:m.b()}),onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!0)}},o.a.createElement(u.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(h.a,{name:"fecha",type:"text",label:"Fecha",placeholder:"Ingrese la fecha del gasto."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"tipo_gasto"},"Tipo de gasto"),o.a.createElement(l.a,{options:a,onChange:function(e){E(e.value)},name:"tipo_gasto",id:"tipo_gasto",value:"tipo_gasto"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement(d,{name:"cantidad",type:"text",label:"Cantidad",placeholder:"Ingrese una cantidad."})),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement(d,{name:"gasto",type:"text",label:"Gasto",placeholder:"Ingrese un gasto."}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"precio_unidad",type:"text",label:"Precio unid.",placeholder:"Ingrese el precio por unidad."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(d,{name:"precio_total",type:"text",label:"Precio total",placeholder:"Ingrese el precio total (opcional)."}))),o.a.createElement("button",{className:"btn btn-success btn-sm",type:"submit"},"Enviar"))))))},E=a(950),v=a.n(E),b=a(951),y=a(911),O=a(917),N=a(185),_=function(){var e=Object(b.a)(v.a.mark((function e(){var t,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.getExpensesType();case 3:t=e.sent,a=t.map((function(e){return{value:e.id,label:e.gasto}})),N.b.dispatch(O.a.expensestype.setExpensestype(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Ha ocurrido un error"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),j=a(244);_();t.default=Object(j.b)((function(e){return{expensestype:e.expensestype.expensestype}}))((function(e){var t=e.expensestype;return o.a.createElement(g,{onCreate:function(e){console.log(e)},expensestype:t})}))},911:function(e,t,a){"use strict";var n=a(237),o=a(238),c=function(){function e(){Object(n.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(o.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precioUnidad,precio_total:e.precioTotal,fecha:e.Fecha,user_id:e.id_usuario,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getExpensesType",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}}]),e}();t.a=new c},917:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"setConfiguracion",(function(){return r}));var o={};a.r(o),a.d(o,"setPersonalexpense",(function(){return i})),a.d(o,"setPersonalexpenses",(function(){return s}));var c={};a.r(c),a.d(c,"setExpensestype",(function(){return l}));var r=function(e){return{type:"SET_CONFIGURACION",payload:e}},i=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},s=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}},l=function(e){return{type:"SET_EXPENSES_TYPE",payload:e}};a.d(t,"a",(function(){return u}));var u={configuracion:n,personalexpenses:o,expensestype:c}},938:function(e,t,a){"use strict";var n=a(943),o=a(913),c=a(2),r=a.n(c),i=a(941),s=a(1060),l=a(1036),u=a(932),p=a.n(u),d=a(940);t.a=function(e){var t=e.label,a=e.placeholder,c=Object(o.a)(e,["label","placeholder"]),u=Object(i.c)(c),m=Object(n.a)(u,3),h=m[0],f=m[1],g=m[2],E=(f.value,g.setValue),v=r.a.useState(!1),b=Object(n.a)(v,2),y=b[0],O=b[1],N=r.a.useState(!1),_=Object(n.a)(N,2),j=_[0],x=_[1],S=r.a.useState(p()()),k=Object(n.a)(S,2),w=k[0],T=k[1],P=!!y&&h.value.trim().length>2||f.touched,C=function(){x(!j)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:h.name},t),r.a.createElement("input",Object.assign({className:"form-control ".concat(P?f.error?"is-invalid":"is-valid":"")},h,c,{placeholder:a,onFocus:function(){return O(!0)},onClick:function(){C()}})),r.a.createElement("div",{className:"valid-feedback"},"Completado"),r.a.createElement("div",{className:"invalid-feedback"},f.error)),r.a.createElement(s.a,{isOpen:j,toggle:function(){C()},fade:!1,style:{width:"88%"}},r.a.createElement(l.a,null,r.a.createElement(d.Calendar,{style:{backgroundColor:"red"},onChange:function(e){E(e.format("YYYY/M/D")),T(e)},value:w}))))}},977:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(950),o=a.n(n),c=a(951),r=a(911),i=a(917),s=a(185),l=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,r.a.getExpenses(t);case 4:a=e.sent,s.b.dispatch(i.a.personalexpenses.setPersonalexpenses(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Ha ocurrido un error"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=22.e9f1118b.chunk.js.map