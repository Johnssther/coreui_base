(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{1039:function(e,t,n){"use strict";n.r(t);var a=n(516),r=n.n(a),o=n(517),c=n(520),s=n(1),i=n.n(s),u=n(723),l=n.n(u),p=n(162),f=n(604),d=n(566),h=n(587),m=n(567),g=n(563),b={header:{borderColor:"red",backgroundColor:"primary"},rows:{spacingBorderRadius:"7px",spacingMargin:"1px",backgroundColor:"white"},cells:{},footer:{separatorStyle:"none"}},v=[{name:"Actions",selector:"id",sortable:!0,cell:function(e){return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.Link,{to:"/expenses/moduls/personalexpenses/show/".concat(e.id)},i.a.createElement("i",{title:"Show",className:"text-success icon-eye m-1"})))},grow:0},{name:"Date",selector:"fecha",wrap:!0,sortable:!0,cell:function(e){return i.a.createElement("div",null,i.a.createElement("div",{style:{fontWeight:700}},e.fecha),e.summary)},grow:0},{name:"Expense type",selector:"tipo_gasto",wrap:!0,sortable:!0,grow:0},{name:"Count",selector:"cantidad",sortable:!0,grow:0},{name:"Expense",selector:"gasto",wrap:!0,sortable:!0,grow:4},{name:"Unit price",selector:"precio_unidad",sortable:!0},{name:"Total price",selector:"precio_total",sortable:!0},{cell:function(e){return i.a.createElement(i.a.Fragment,null)},allowOverflow:!0,button:!0,width:"56px"}];var E=function(e){var t=e.expenses,n=e.loading,a=e.onNew;return console.log(n),i.a.createElement(d.a,null,i.a.createElement(h.a,null,i.a.createElement("i",{className:"fa fa-align-justify"}),i.a.createElement("strong",null,"Daily Expenses"),i.a.createElement("small",null," Expenses ")),i.a.createElement(m.a,null,i.a.createElement(l.a,{title:"Personal Expenses",columns:v,data:t,actions:i.a.createElement(g.a,{name:"Add",onClick:a},i.a.createElement("i",{className:"fa fa-plus m-1"}),"Add"),highlightOnHover:!0,pagination:!0,customTheme:b,progressPending:n,progressComponent:i.a.createElement(f.a,{data:t}),progressShowTableHead:!0,ignoreRowClick:!0,theme:"solarized"})))},y=n(163),x=n(542);t.default=Object(y.b)((function(e){return{expenses:e.personalexpenses.personalexpenses}}))((function(e){var t=e.expenses,n=Object(s.useState)(!0),a=Object(c.a)(n,2),u=a[0],l=a[1];return Object(s.useEffect)((function(){function e(){return(e=Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(x.b)();case 2:t=e.sent,console.log(t),l(!t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),i.a.createElement(E,{expenses:t,onNew:function(){e.history.push("/expenses/moduls/personalexpenses/create")},loading:u})}))},509:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return r}));var a=function(e){if(console.log(e),!1===e.success)throw e;if(e){var t={success:!1,errors:"Ocurrio un error inesperado de conexi\xf3n por favor recargue su navegador nuevamente."};if("TypeError: Failed to fetch"!==e)throw t;throw t}},r=function(e){throw e}},515:function(e,t,n){"use strict";var a=n(158),r=n(159),o=(n(509),function(){function e(){Object(a.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(r.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return console.log(e,"joh"),fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"updateExpense",value:function(e){return console.log(e),fetch("".concat(this.URL,"gastos/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"showExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e.id,"?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"getExpensesType",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}}]),e}());t.a=new o},521:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a={};n.r(a),n.d(a,"setConfiguracion",(function(){return o}));var r={};n.r(r),n.d(r,"setPersonalexpense",(function(){return c})),n.d(r,"setPersonalexpenses",(function(){return s}));var o=function(e){return{type:"SET_CONFIGURACION",payload:e}},c=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},s=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}},i={configuracion:a,personalexpenses:r,expensestype:n(522)}},522:function(e,t,n){"use strict";n.r(t),n.d(t,"setExpensestype",(function(){return a}));var a=function(e){return{type:"SET_EXPENSES_TYPE",payload:e}}},542:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return d}));var a=n(516),r=n.n(a),o=n(517),c=n(515),s=n(509),i=n(521),u=n(107),l=function(){var e=Object(o.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,c.a.getExpenses(t);case 4:return n=e.sent,u.b.dispatch(i.a.personalexpenses.setPersonalexpenses(n)),e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(1),Object(s.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.saveExpenses(t);case 3:if(!1!==(n=e.sent).success){e.next=8;break}Object(s.a)(n),e.next=9;break;case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(s.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.updateExpense(t);case 3:if(!1!==(n=e.sent).success){e.next=8;break}Object(s.a)(n),e.next=9;break;case 8:return e.abrupt("return",n);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(s.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(o.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.a.showExpense(t);case 3:return n=e.sent,e.next=6,u.b.dispatch(i.a.personalexpenses.setPersonalexpense(n));case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(0),Object(s.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},566:function(e,t,n){"use strict";var a=n(19),r=n(51),o=n(1),c=n.n(o),s=n(59),i=n.n(s),u=n(506),l=n.n(u),p=n(507),f={tag:p.m,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},d=function(e){var t=e.className,n=e.cssModule,o=e.color,s=e.body,i=e.inverse,u=e.outline,f=e.tag,d=e.innerRef,h=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),m=Object(p.i)(l()(t,"card",!!i&&"text-white",!!s&&"card-body",!!o&&(u?"border":"bg")+"-"+o),n);return c.a.createElement(f,Object(a.a)({},h,{className:m,ref:d}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},567:function(e,t,n){"use strict";var a=n(19),r=n(51),o=n(1),c=n.n(o),s=n(59),i=n.n(s),u=n(506),l=n.n(u),p=n(507),f={tag:p.m,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},d=function(e){var t=e.className,n=e.cssModule,o=e.innerRef,s=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),u=Object(p.i)(l()(t,"card-body"),n);return c.a.createElement(s,Object(a.a)({},i,{className:u,ref:o}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},587:function(e,t,n){"use strict";var a=n(19),r=n(51),o=n(1),c=n.n(o),s=n(59),i=n.n(s),u=n(506),l=n.n(u),p=n(507),f={tag:p.m,className:i.a.string,cssModule:i.a.object},d=function(e){var t=e.className,n=e.cssModule,o=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(p.i)(l()(t,"card-header"),n);return c.a.createElement(o,Object(a.a)({},s,{className:i}))};d.propTypes=f,d.defaultProps={tag:"div"},t.a=d},602:function(e,t,n){"use strict";function a(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}t.a=function(e,t){var n;void 0===t&&(t=a);var r,o=[],c=!1;return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];return c&&n===this&&t(a,o)||(r=e.apply(this,a),c=!0,n=this,o=a),r}}},604:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(835),c=n(996),s=Object(c.a)((function(e){return{root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}}));t.a=function(){var e=s();return r.a.createElement("div",{className:e.root},r.a.createElement(o.a,{color:"secondary"}))}}}]);
//# sourceMappingURL=22.2d37c8f6.chunk.js.map