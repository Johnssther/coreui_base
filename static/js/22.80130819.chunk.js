(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[22],{1088:function(e,t,a){"use strict";a.r(t);var n=a(2),o=a.n(n),c=a(986),r=a(921),s=a(931),i=a(922),l=a(981),u=a(985),p=a(1058),d=a(937),m=a.n(d),f=a(917),h=function(e){var t=e.label,a=e.placeholder,n=Object(f.a)(e,["label","placeholder"]),r=Object(u.c)(n),s=Object(c.a)(r,2),i=s[0],l=s[1],p=o.a.useState(!1),d=Object(c.a)(p,2),m=d[0],h=d[1],g=!!m&&i.value.trim().length>2||l.touched;return o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:i.name},t),o.a.createElement("input",Object.assign({className:"form-control ".concat(g?l.error?"is-invalid":"is-valid":"")},i,n,{placeholder:a,onFocus:function(){return h(!0)},onClick:function(){console.log("fg")}})),o.a.createElement("div",{className:"valid-feedback"},"Completado"),o.a.createElement("div",{className:"invalid-feedback"},l.error))},g=a(1059),E=a(1036),v=a(963),b=function(e){var t=e.label,a=e.placeholder,n=Object(f.a)(e,["label","placeholder"]),r=Object(u.c)(n),s=Object(c.a)(r,3),i=s[0],l=s[1],p=s[2],d=(l.value,p.setValue),h=o.a.useState(!1),b=Object(c.a)(h,2),y=b[0],N=b[1],O=o.a.useState(!1),_=Object(c.a)(O,2),j=_[0],x=_[1],S=o.a.useState(m()()),k=Object(c.a)(S,2),w=k[0],T=k[1],P=!!y&&i.value.trim().length>2||l.touched,C=function(){x(!j)};return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:i.name},t),o.a.createElement("input",Object.assign({className:"form-control ".concat(P?l.error?"is-invalid":"is-valid":"")},i,n,{placeholder:a,onFocus:function(){return N(!0)},onClick:function(){C()}})),o.a.createElement("div",{className:"valid-feedback"},"Completado"),o.a.createElement("div",{className:"invalid-feedback"},l.error)),o.a.createElement(g.a,{isOpen:j,toggle:function(){C()},fade:!1,style:{width:"88%"}},o.a.createElement(E.a,null,o.a.createElement(v.Calendar,{style:{backgroundColor:"red"},onChange:function(e){d(e.format("YYYY/M/D")),T(e)},value:w}))))},y=(a(964),a(965));Object(y.a)();var N=function(e){var t=e.onCreate,a=e.expensestype,d=Object(n.useState)(2),f=Object(c.a)(d,2),g=f[0],E=f[1];return o.a.createElement("div",{className:"container"},o.a.createElement(r.a,null,o.a.createElement(s.a,null,"Ingresar Gasto"),o.a.createElement(i.a,null,o.a.createElement(u.b,{initialValues:{gasto:"",cantidad:"",precio_unidad:"",precio_total:"",fecha:m()().format("YYYY/M/D"),tipo_gasto:g},validationSchema:p.c({gasto:p.d().min(3,"Un gasto debe tener minimo 3 caracteres.").required("El gasto es obligatorio"),cantidad:p.b().max(99999,"La cantidad no puede exceder de 99.999").positive("La cantidad no puede ser negativa.").required("La cantiad es obligatoria"),precio_unidad:p.b().positive("El precio de la unidad no puede ser negativo.").required("La cantiad es obligatoria"),precio_total:p.b().positive("La cantidad no puede ser negativa."),fecha:p.a().required("La fecha es obligatoria"),tipo_gasto:p.b()}),onSubmit:function(e,a){var n=a.setSubmitting;t(e),n(!0)}},o.a.createElement(u.a,null,o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(b,{name:"fecha",type:"text",label:"Fecha",placeholder:"Ingrese la fecha del gasto."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"tipo_gasto"},"Tipo de gasto"),o.a.createElement(l.a,{options:a,onChange:function(e){E(e.value)},name:"tipo_gasto",id:"tipo_gasto",value:"tipo_gasto"})))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-3"},o.a.createElement(h,{name:"cantidad",type:"text",label:"Cantidad",placeholder:"Ingrese una cantidad."})),o.a.createElement("div",{className:"col-sm-9"},o.a.createElement(h,{name:"gasto",type:"text",label:"Gasto",placeholder:"Ingrese un gasto."}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(h,{name:"precio_unidad",type:"text",label:"Precio unid.",placeholder:"Ingrese el precio por unidad."})),o.a.createElement("div",{className:"col-sm-6"},o.a.createElement(h,{name:"precio_total",type:"text",label:"Precio total",placeholder:"Ingrese el precio total (opcional)."}))),o.a.createElement("div",{className:"row"},o.a.createElement("div",{className:"col-sm-6 offset-md-4"},o.a.createElement("button",{className:"col-sm-3 m-1 btn btn-secondary btn-sm",type:"reset"},"Reset"),o.a.createElement("button",{className:"col-sm-3 m-1 btn btn-dark btn-sm",type:"submit"},"Register"))))))))},O=a(946),_=a.n(O),j=a(947),x=a(911),S=a(916),k=a(185),w=function(){var e=Object(j.a)(_.a.mark((function e(){var t,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,x.a.getExpensesType();case 3:t=e.sent,a=t.map((function(e){return{value:e.id,label:e.gasto}})),k.b.dispatch(S.a.expensestype.setExpensestype(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Ha ocurrido un error"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),T=a(244);w();t.default=Object(T.b)((function(e){return{expensestype:e.expensestype.expensestype}}))((function(e){var t=e.expensestype;return o.a.createElement(N,{onCreate:function(e){console.log(e),setTimeout((function(){alert("registrado")}),500)},expensestype:t})}))},911:function(e,t,a){"use strict";var n=a(237),o=a(238),c=function(){function e(){Object(n.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(o.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precioUnidad,precio_total:e.precioTotal,fecha:e.Fecha,user_id:e.id_usuario,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getExpensesType",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}}]),e}();t.a=new c},916:function(e,t,a){"use strict";var n={};a.r(n),a.d(n,"setConfiguracion",(function(){return r}));var o={};a.r(o),a.d(o,"setPersonalexpense",(function(){return s})),a.d(o,"setPersonalexpenses",(function(){return i}));var c={};a.r(c),a.d(c,"setExpensestype",(function(){return l}));var r=function(e){return{type:"SET_CONFIGURACION",payload:e}},s=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},i=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}},l=function(e){return{type:"SET_EXPENSES_TYPE",payload:e}};a.d(t,"a",(function(){return u}));var u={configuracion:n,personalexpenses:o,expensestype:c}},964:function(e,t,a){"use strict";var n=a(2),o=a.n(n),c=a(919);t.a=function(e){var t=e.name,a=e.onPress;return o.a.createElement(c.a,{color:"dark",className:"col-sm-3 m-1 btn btn-secondary btn-sm",onClick:a},t)}},965:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var n=a(946),o=a.n(n),c=a(947),r=a(911),s=a(916),i=a(185),l=function(){var e=Object(c.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,r.a.getExpenses(t);case 4:a=e.sent,i.b.dispatch(s.a.personalexpenses.setPersonalexpenses(a)),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.log("Ha ocurrido un error"),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=22.80130819.chunk.js.map