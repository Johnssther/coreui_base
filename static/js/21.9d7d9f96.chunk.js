(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[21],{523:function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));var n=function(e){if(console.log(e),!1===e.success)throw e;if(e){var t={success:!1,errors:"Ocurrio un error inesperado de conexi\xf3n por favor recargue su navegador nuevamente."};if("TypeError: Failed to fetch"!==e)throw t;throw t}},r=function(e){throw e}},531:function(e,t,a){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e)){var a=[],n=!0,r=!1,c=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(i){r=!0,c=i}finally{try{n||null==s.return||s.return()}finally{if(r)throw c}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(a):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?n(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}a.d(t,"a",(function(){return r}))},532:function(e,t,a){"use strict";var n=a(158),r=a(159),c=(a(523),function(){function e(){Object(n.a)(this,e);var t=window.location.host;"localhost:3000"===t&&(this.URL="http://localhost/coysa/public/api/"),"johnssther.github.io"===t&&(this.URL="http://coysa.herokuapp.com/api/"),this.API_TOKEN=localStorage.getItem("token")}return Object(r.a)(e,[{key:"onLogin",value:function(e,t){return fetch("".concat(this.URL,"login"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"registerUser",value:function(e){return fetch("".concat(this.URL,"register"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:e.name,email:e.email,username:e.username,password:e.password,password_confirmation:e.password_confirmation})}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"getExpenses",value:function(e){return fetch("".concat(this.URL,"gastos?api_token=").concat(this.API_TOKEN,"\n        &user_id=").concat(JSON.parse(localStorage.getItem("auth")).id,"\n        &mes=").concat(e.mes)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"saveExpenses",value:function(e){return console.log(e,"joh"),fetch("".concat(this.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"updateExpense",value:function(e){return console.log(e),fetch("".concat(this.URL,"gastos/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:this.API_TOKEN,gasto:e.gasto,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"showExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e.id,"?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}},{key:"deleteExpense",value:function(e){return fetch("".concat(this.URL,"gastos/").concat(e,"?api_token=").concat(this.API_TOKEN),{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){throw e}))}},{key:"getExpensesType",value:function(){return fetch("".concat(this.URL,"tipogastos?api_token=").concat(this.API_TOKEN,"&user_id=").concat(JSON.parse(localStorage.getItem("auth")).id)).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){throw e}))}}]),e}());t.a=new c},549:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n={};a.r(n),a.d(n,"setConfiguracion",(function(){return o}));var r={};a.r(r),a.d(r,"setPersonalexpense",(function(){return s})),a.d(r,"setPersonalexpenses",(function(){return i}));var c={};a.r(c),a.d(c,"setExpensestype",(function(){return l}));var o=function(e){return{type:"SET_CONFIGURACION",payload:e}},s=function(e){return{type:"SET_PERSONALEXPENSE",payload:e}},i=function(e){return{type:"SET_PERSONALEXPENSES",payload:e}},l=function(e){return{type:"SET_EXPENSES_TYPE",payload:e}},u={configuracion:n,personalexpenses:r,expensestype:c}},604:function(e,t,a){"use strict";var n=a(19),r=a(51),c=a(1),o=a.n(c),s=a(59),i=a.n(s),l=a(506),u=a.n(l),p=a(507),f=i.a.oneOfType([i.a.number,i.a.string]),m={tag:p.m,noGutters:i.a.bool,className:i.a.string,cssModule:i.a.object,form:i.a.bool,xs:f,sm:f,md:f,lg:f,xl:f},d={tag:"div",widths:["xs","sm","md","lg","xl"]},h=function(e){var t=e.className,a=e.cssModule,c=e.noGutters,s=e.tag,i=e.form,l=e.widths,f=Object(r.a)(e,["className","cssModule","noGutters","tag","form","widths"]),m=[];l.forEach((function(t,a){var n=e[t];if(delete f[t],n){var r=!a;m.push(r?"row-cols-"+n:"row-cols-"+t+"-"+n)}}));var d=Object(p.i)(u()(t,c?"no-gutters":null,i?"form-row":"row",m),a);return o.a.createElement(s,Object(n.a)({},f,{className:d}))};h.propTypes=m,h.defaultProps=d,t.a=h},605:function(e,t,a){"use strict";var n=a(19),r=a(51),c=a(1),o=a.n(c),s=a(59),i=a.n(s),l=a(506),u=a.n(l),p=a(507),f=i.a.oneOfType([i.a.number,i.a.string]),m=i.a.oneOfType([i.a.bool,i.a.number,i.a.string,i.a.shape({size:i.a.oneOfType([i.a.bool,i.a.number,i.a.string]),order:f,offset:f})]),d={tag:p.m,xs:m,sm:m,md:m,lg:m,xl:m,className:i.a.string,cssModule:i.a.object,widths:i.a.array},h={tag:"div",widths:["xs","sm","md","lg","xl"]},b=function(e,t,a){return!0===a||""===a?e?"col":"col-"+t:"auto"===a?e?"col-auto":"col-"+t+"-auto":e?"col-"+a:"col-"+t+"-"+a},E=function(e){var t=e.className,a=e.cssModule,c=e.widths,s=e.tag,i=Object(r.a)(e,["className","cssModule","widths","tag"]),l=[];c.forEach((function(t,n){var r=e[t];if(delete i[t],r||""===r){var c=!n;if(Object(p.g)(r)){var o,s=c?"-":"-"+t+"-",f=b(c,t,r.size);l.push(Object(p.i)(u()(((o={})[f]=r.size||""===r.size,o["order"+s+r.order]=r.order||0===r.order,o["offset"+s+r.offset]=r.offset||0===r.offset,o)),a))}else{var m=b(c,t,r);l.push(m)}}})),l.length||l.push("col");var f=Object(p.i)(u()(t,l),a);return o.a.createElement(s,Object(n.a)({},i,{className:f}))};E.propTypes=d,E.defaultProps=h,t.a=E},607:function(e,t,a){"use strict";var n=a(19),r=a(51),c=a(515),o=a(39),s=a(1),i=a.n(s),l=a(59),u=a.n(l),p=a(506),f=a.n(p),m=a(507),d={active:u.a.bool,"aria-label":u.a.string,block:u.a.bool,color:u.a.string,disabled:u.a.bool,outline:u.a.bool,tag:m.m,innerRef:u.a.oneOfType([u.a.object,u.a.func,u.a.string]),onClick:u.a.func,size:u.a.string,children:u.a.node,className:u.a.string,cssModule:u.a.object,close:u.a.bool},h=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(c.a)(a)),a}Object(o.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():this.props.onClick&&this.props.onClick(e)},a.render=function(){var e=this.props,t=e.active,a=e["aria-label"],c=e.block,o=e.className,s=e.close,l=e.cssModule,u=e.color,p=e.outline,d=e.size,h=e.tag,b=e.innerRef,E=Object(r.a)(e,["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"]);s&&"undefined"===typeof E.children&&(E.children=i.a.createElement("span",{"aria-hidden":!0},"\xd7"));var g="btn"+(p?"-outline":"")+"-"+u,v=Object(m.i)(f()(o,{close:s},s||"btn",s||g,!!d&&"btn-"+d,!!c&&"btn-block",{active:t,disabled:this.props.disabled}),l);E.href&&"button"===h&&(h="a");var y=s?"Close":null;return i.a.createElement(h,Object(n.a)({type:"button"===h&&E.onClick?"button":void 0},E,{className:v,ref:b,onClick:this.onClick,"aria-label":a||y}))},t}(i.a.Component);h.propTypes=d,h.defaultProps={color:"secondary",tag:"button"},t.a=h},676:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"d",(function(){return f})),a.d(t,"c",(function(){return m}));var n=a(538),r=a.n(n),c=a(539),o=a(532),s=a(523),i=a(549),l=a(107),u=function(){var e=Object(c.a)(r.a.mark((function e(){var t,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={mes:null},e.prev=1,e.next=4,o.a.getExpenses(t);case 4:return a=e.sent,l.b.dispatch(i.a.personalexpenses.setPersonalexpenses(a)),e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(1),Object(s.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.saveExpenses(t);case 3:if(!1!==(a=e.sent).success){e.next=8;break}Object(s.a)(a),e.next=9;break;case 8:return e.abrupt("return",a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(s.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.updateExpense(t);case 3:if(!1!==(a=e.sent).success){e.next=8;break}Object(s.a)(a),e.next=9;break;case 8:return e.abrupt("return",a);case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),Object(s.b)(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(r.a.mark((function e(t){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.a.showExpense(t);case 3:return a=e.sent,e.next=6,l.b.dispatch(i.a.personalexpenses.setPersonalexpense(a));case 6:return e.abrupt("return",!0);case 9:e.prev=9,e.t0=e.catch(0),Object(s.b)(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},678:function(e,t,a){"use strict";var n=a(19),r=a(51),c=a(1),o=a.n(c),s=a(59),i=a.n(s),l=a(506),u=a.n(l),p=a(507),f={tag:p.m,className:i.a.string,cssModule:i.a.object},m=function(e){var t=e.className,a=e.cssModule,c=e.tag,s=Object(r.a)(e,["className","cssModule","tag"]),i=Object(p.i)(u()(t,"card-header"),a);return o.a.createElement(c,Object(n.a)({},s,{className:i}))};m.propTypes=f,m.defaultProps={tag:"div"},t.a=m},722:function(e,t,a){"use strict";var n=a(1),r=a.n(n);a(743),a(723);t.a=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-3 offset-md-4"},r.a.createElement("div",{className:"container center-block"},r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)),r.a.createElement("h4",null,"Cargando..."))))))}},743:function(e,t,a){},996:function(e,t,a){"use strict";a.r(t);var n=a(538),r=a.n(n),c=a(539),o=a(531),s=a(1),i=a.n(s),l=a(163),u=a(676),p=a(720),f=a(621),m=a(678),d=a(604),h=a(605),b=a(622),E=a(742),g=a(607),v=a(164),y=function(e){var t=e.expense;return i.a.createElement(p.a,null,i.a.createElement(f.a,null,i.a.createElement(m.a,null,i.a.createElement(d.a,null,i.a.createElement(h.a,{sm:"2"},"Show Expense"),i.a.createElement(h.a,{className:"text-right",sm:"10"},i.a.createElement("i",{style:{fontSize:17,cursor:"pointer"},title:"Destroy",className:"text-danger fa fa-eraser"})))),i.a.createElement(b.a,null,i.a.createElement(p.a,null,i.a.createElement(d.a,{xs:"2"},i.a.createElement(h.a,{className:"text-right mb-23",sm:{size:5}}," ",i.a.createElement("b",null,i.a.createElement("label",null,"C\xf3digo:")," ")),i.a.createElement(h.a,null,t.id)),i.a.createElement(d.a,{xs:"1",sm:"2",md:"4"},i.a.createElement(h.a,{className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Fecha:"))),i.a.createElement(h.a,null,t.fecha)),i.a.createElement(d.a,{xs:"1",sm:"2",md:"4"},i.a.createElement(h.a,{className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Tipo de Gasto:"))),i.a.createElement(h.a,null,t.tipogasto.gasto)),i.a.createElement(d.a,{xs:"3"},i.a.createElement(h.a,{className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Gasto:"))),i.a.createElement(h.a,null,t.gasto)),i.a.createElement(d.a,{xs:"4"},i.a.createElement(h.a,{className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Cantidad:"))),i.a.createElement(h.a,null,t.cantidad)),i.a.createElement(d.a,{xs:"4"},i.a.createElement(h.a,{xs:"6",className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Precio:"))),i.a.createElement(h.a,{xs:"6"},"$".concat((new Intl.NumberFormat).format(t.precio_unidad)))),i.a.createElement(d.a,{xs:"1",sm:"2",md:"4"},i.a.createElement(h.a,{className:"text-right",sm:{size:5}},i.a.createElement("b",null,i.a.createElement("label",null,"Precio Total:"))),i.a.createElement(h.a,{xs:"6"},"$".concat((new Intl.NumberFormat).format(t.precio_total)))))),i.a.createElement(E.a,null,i.a.createElement(d.a,null,i.a.createElement(h.a,{sm:{size:6,offset:4}},i.a.createElement(g.a,{className:"col-sm-3 m-1",color:"secondary",size:"sm"},"To return"),i.a.createElement(v.Link,{to:"/expenses/moduls/personalexpenses/edit/".concat(t.id)},i.a.createElement(g.a,{className:"col-sm-3 m-1",color:"dark",size:"sm"},"Edit")))))))},x=a(722);t.default=Object(l.b)((function(e){return{expensestype:e.expensestype.expensestype,expense:e.personalexpenses.personalexpense}}))((function(e){var t=e.match,a=e.expense,n=t.params,l=i.a.useState(!0),p=Object(o.a)(l,2),f=p[0],m=p[1];return Object(s.useEffect)((function(){function e(){return(e=Object(c.a)(r.a.mark((function e(){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.c)(n);case 2:m(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),f?i.a.createElement(x.a,null):i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{expense:a}))}))}}]);
//# sourceMappingURL=21.9d7d9f96.chunk.js.map