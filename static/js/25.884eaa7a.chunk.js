(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[25],{437:function(e,t,a){"use strict";const n=()=>{const e=window.location.host;let t=null;return"localhost:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),"johnssther.github.io"===e&&(t="https://x.johnr.top/api/"),"http://159.65.226.161:3000"===e&&(t="http://localhost/coysa-laravel6/public/api/"),t="https://x.johnr.top/api/",{URL:t,API_TOKEN:localStorage.getItem("token")}};t.a={URL:n().URL,API_TOKEN:n().API_TOKEN,id:null==JSON.parse(localStorage.getItem("auth"))?null:JSON.parse(localStorage.getItem("auth")).id}},444:function(e,t,a){"use strict";a.d(t,"a",(function(){return m}));var n={};a.r(n),a.d(n,"setConfiguracion",(function(){return s}));var o={};a.r(o),a.d(o,"setPersonalexpense",(function(){return c})),a.d(o,"setPersonalexpenses",(function(){return i}));var r={};a.r(r),a.d(r,"setRevenueIndex",(function(){return u})),a.d(r,"setRevenueStore",(function(){return p})),a.d(r,"setRevenueShow",(function(){return d})),a.d(r,"setRevenueUpdate",(function(){return f})),a.d(r,"setRevenueDelete",(function(){return E}));const s=e=>({type:"SET_CONFIGURACION",payload:e}),c=e=>({type:"SET_PERSONALEXPENSE",payload:e}),i=e=>({type:"SET_PERSONALEXPENSES",payload:e});var l=a(451);const u=e=>({type:"SET_REVENUE_INDEX",payload:e}),p=e=>({type:"SET_REVENUE_STORE",payload:e}),d=e=>({type:"SET_REVENUE_SHOW",payload:e}),f=e=>({type:"SET_REVENUE_UPDATE",payload:e}),E=e=>({type:"SET_REVENUE_DELETE",payload:e}),m={configuracion:n,personalexpenses:o,expensestype:l,revenues:r}},445:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return s}));var n=a(476),o=a.n(n);const r=e=>{if(console.log(e),!1===e.success)throw e;if(e){let t={success:!1,errors:"Ocurrio un error inesperado de conexi\xf3n por favor recargue su navegador nuevamente."};if(o.a.fire({title:"Atenci\xf3n",text:t.errors,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, recargar de nuevo"}).then(e=>{e.value&&window.location.reload()}),"TypeError: Failed to fetch"!==e)throw t;throw t}},s=e=>{throw e}},451:function(e,t,a){"use strict";a.r(t),a.d(t,"setExpensestype",(function(){return n}));const n=e=>({type:"SET_EXPENSES_TYPE",payload:e})},479:function(e,t,a){"use strict";a.d(t,"b",(function(){return c})),a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return l})),a.d(t,"c",(function(){return u}));var n=a(437);var o=a(445),r=a(444),s=a(104);const c=async()=>{let e={mes:null};try{const t=await(async e=>{const t=await fetch("".concat(n.a.URL,"gastos?api_token=").concat(n.a.API_TOKEN,"&user_id=").concat(n.a.id,"&mes=").concat(e.mes));return await t.json()})(e);return s.b.dispatch(r.a.personalexpenses.setPersonalexpenses(t)),!0}catch(t){Object(o.b)(t)}},i=async e=>{try{const t=await(async e=>{const t=await fetch("".concat(n.a.URL,"gastos"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:n.a.API_TOKEN,gasto:e.gasto,justification:e.justification,urlfile:e.urlfile,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})});return await t.json()})(e);if(!1!==t.success)return t;Object(o.a)(t)}catch(t){Object(o.b)(t)}},l=async e=>{try{const t=await(async e=>{const t=await fetch("".concat(n.a.URL,"gastos/").concat(e.id),{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({api_token:n.a.API_TOKEN,gasto:e.gasto,justification:e.justification,urlfile:e.urlfile,cantidad:e.cantidad,precio_unidad:e.precio_unidad,precio_total:e.precio_total,fecha:e.fecha,user_id:e.user_id,tipogasto_id:e.tipogasto_id})});return await t.json()})(e);if(!1!==t.success)return t;Object(o.a)(t)}catch(t){Object(o.b)(t)}},u=async e=>{try{const t=await(async e=>{const t=await fetch("".concat(n.a.URL,"gastos/").concat(e.id,"?api_token=").concat(n.a.API_TOKEN,"&user_id=").concat(n.a.id));return await t.json()})(e);return await s.b.dispatch(r.a.personalexpenses.setPersonalexpense(t)),!0}catch(t){Object(o.b)(t)}}},524:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(780),s=a(928);const c=Object(s.a)(e=>({root:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}}));t.a=()=>{const e=c();return o.a.createElement("div",{className:e.root},o.a.createElement(r.a,{color:"secondary"}))}},587:function(e,t,a){"use strict";function n(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}a.d(t,"a",(function(){return n}))},976:function(e,t,a){"use strict";a.r(t);var n,o,r=a(0),s=a.n(r),c=a(587),i=a(613),l=a.n(i),u=a(139),p=a(524),d=a(585),f=a(608),E=a(509),m=a(609),h=a(614);const g={header:{borderColor:"red",backgroundColor:"primary"},rows:{spacingBorderRadius:"7px",spacingMargin:"1px",backgroundColor:"white"},cells:{},footer:{separatorStyle:"none"}},b=h.default.input(n||(n=Object(c.a)(["\n  height: 32px;\n  width: 200px;\n  border-radius: 3px;\n  border-top-left-radius: 5px;\n  border-bottom-left-radius: 5px;\n  border-top-right-radius: 0;\n  border-bottom-right-radius: 0;\n  border: 1px solid #e5e5e5;\n  padding: 0 32px 0 16px;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]))),y=Object(h.default)(d.a)(o||(o=Object(c.a)(["\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  height: 34px;\n  width: 32px;\n  text-align: center;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n"]))),w=e=>{let{filterText:t,onFilter:a,onClear:n}=e;return s.a.createElement(s.a.Fragment,null,s.a.createElement(b,{id:"search",type:"text",placeholder:"Browser Expense",value:t,onChange:a}),s.a.createElement(y,{type:"button",onClick:n},"X"))},x=[{name:"Actions",selector:"id",sortable:!0,cell:e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(u.Link,{to:"/expenses/moduls/personalexpenses/show/".concat(e.id)},s.a.createElement("i",{title:"Show",className:"text-success fa fa-eye m-1"})),null===e.urlfile?null:s.a.createElement("a",{href:e.urlfile,target:"_blank"},s.a.createElement("i",{title:"File",className:"text-success fa fa-file m-1"}))),grow:0},{name:"Date",selector:"fecha",wrap:!0,sortable:!0,cell:e=>s.a.createElement("div",null,s.a.createElement("div",{style:{fontWeight:700}},e.fecha),e.summary),grow:0},{name:"Expense type",selector:"tipo_gasto",wrap:!0,sortable:!0,grow:0},{name:"Count",selector:"cantidad",sortable:!0,grow:0},{name:"Expense",selector:"gasto",wrap:!0,sortable:!0,grow:4},{name:"Unit price",selector:"precio_unidad",sortable:!0},{name:"Total price",selector:"precio_total",sortable:!0},{cell:e=>s.a.createElement(s.a.Fragment,null),allowOverflow:!0,button:!0,width:"56px"}];var _=function(e){const{expenses:t,loading:a,onNew:n}=e,[o,r]=s.a.useState(""),[c,i]=s.a.useState(!1),u=t.filter(e=>e.gasto&&e.gasto.toLowerCase().includes(o.toLowerCase())),h=s.a.useMemo(()=>s.a.createElement(w,{onFilter:e=>r(e.target.value),onClear:()=>{o&&(i(!c),r(""))},filterText:o}),[o,c]);return console.log(a),s.a.createElement(f.a,null,s.a.createElement(E.a,null,s.a.createElement("i",{className:"fa fa-align-justify"}),s.a.createElement("strong",null,"Daily Expenses"),s.a.createElement("small",null," Expenses ")),s.a.createElement(m.a,null,s.a.createElement(l.a,{title:"Personal Expenses",columns:x,data:u,actions:s.a.createElement(d.a,{name:"Add",onClick:n},s.a.createElement("i",{className:"fa fa-plus m-1"}),"Add"),highlightOnHover:!0,pagination:!0,customTheme:g,progressPending:a,progressComponent:s.a.createElement(p.a,{data:t}),progressShowTableHead:!0,ignoreRowClick:!0,theme:"solarized",subHeader:!0,subHeaderComponent:h})))},O=a(140),S=a(479);t.default=Object(O.b)(e=>({expenses:e.personalexpenses.personalexpenses}))((function(e){const{expenses:t}=e,[a,n]=Object(r.useState)(!0);return Object(r.useEffect)(()=>{!async function(){let e=await Object(S.b)();console.log(e),n(!e)}()},[]),s.a.createElement(_,{expenses:t,onNew:()=>{e.history.push("/expenses/moduls/personalexpenses/create")},loading:a})}))}}]);
//# sourceMappingURL=25.884eaa7a.chunk.js.map