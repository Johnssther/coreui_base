{"version":3,"sources":["../node_modules/reactstrap/es/CardGroup.js","views/Pages/Login/Login.js","api/api.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js"],"names":["propTypes","tag","className","string","cssModule","object","props","Tag","attributes","classes","createElement","defaultProps","Login","state","inputUsername","inputPassword","errorLogin","auth","localStorage","getItem","loading","onLogin","bind","this","setState","Promise","resolve","reject","API","then","data","username","setItem","JSON","stringify","api_token","console","log","history","push","message","error","Container","Row","Col","md","LinearProgress","Card","CardBody","Form","InputGroup","InputGroupAddon","addonType","InputGroupText","Input","type","placeholder","autoComplete","onChange","event","target","value","role","xs","Button","color","onClick","style","width","to","active","tabIndex","from","Component","Api","host","window","location","URL","API_TOKEN","userLogin","passwordLogin","fetch","method","headers","Accept","body","password","response","json","responseJson","catch","name","email","password_confirmation","gasto","cantidad","precio_unidad","precioUnidad","precio_total","precioTotal","fecha","Fecha","user_id","id_usuario","tipogasto_id","parse","id","mes","_defineProperty","obj","key","Object","defineProperty","enumerable","configurable","writable"],"mappings":"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","file":"static/js/20.c8f195d8.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar CardGroup = function CardGroup(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\"]);\n\n  var classes = mapToCssModules(classNames(className, 'card-group'), cssModule);\n  return React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nCardGroup.propTypes = propTypes;\nCardGroup.defaultProps = defaultProps;\nexport default CardGroup;","import React, { Component } from 'react';\nimport { Link, Redirect } from 'react-router-dom';\nimport { Button, Card, CardBody, CardGroup, Col, Container, Form, Input, InputGroup, InputGroupAddon, InputGroupText, Row } from 'reactstrap';\nimport API from '../../../api/api'\nimport { LinearProgress } from '@material-ui/core';\n\nclass Login extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      inputUsername: '',\n      inputPassword: '',\n      errorLogin: false,\n      auth: localStorage.getItem('token') != null ? true : false,\n      loading:false,\n    }\n    // Este enlace es necesario para hacer que `this` funcione en el callback\n    this.onLogin = this.onLogin.bind(this);\n  }\n\n  onLogin() {\n    this.setState({ loading:true })\n    return new Promise((resolve, reject) => {\n      API.onLogin(this.state.inputUsername, this.state.inputPassword).then((data) => {  //username, password:%koi.ti% or admin\n\n        //Valida si existe un username valido\n        if (data.username) {\n          localStorage.setItem('auth', JSON.stringify(data));\n          localStorage.setItem('token', data.api_token);\n          console.log(data.api_token);\n          // localStorage.clear()\n          this.props.history.push('/')\n\n        }\n        if (data.message !== \"The given data was invalid.\") {\n\n          //Valida si el usuario esta o no bloqueado.\n\n        } else { this.setState({ errorLogin: false, loading:false }) }\n        resolve(data);\n      }, (error) => {\n        this.setState({ loading:false })\n        reject(error);\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"app flex-row align-items-center\">\n        <Container>\n          <Row className=\"justify-content-center\">\n            <Col md=\"8\">\n              {this.state.loading === true ?\n                <LinearProgress />\n                :\n                ''\n              }\n\n              <CardGroup>\n                <Card className=\"p-4\">\n                  <CardBody>\n                    <Form>\n                      <h1>Iniciar Sesión</h1>\n                      <p className=\"text-muted\">Ingresa si ya tienes una cuenta</p>\n                      <InputGroup className=\"mb-3\">\n                        <InputGroupAddon addonType=\"prepend\">\n                          <InputGroupText>\n                            <i className=\"icon-user\"></i>\n                          </InputGroupText>\n                        </InputGroupAddon>\n                        <Input type=\"text\" placeholder=\"Usuario\" autoComplete=\"username\" onChange={(event) => this.setState({ inputUsername: event.target.value })} />\n                      </InputGroup>\n                      <InputGroup className=\"mb-4\">\n                        <InputGroupAddon addonType=\"prepend\">\n                          <InputGroupText>\n                            <i className=\"icon-lock\"></i>\n                          </InputGroupText>\n                        </InputGroupAddon>\n                        <Input type=\"password\" placeholder=\"Contraceña\" autoComplete=\"current-password\" onChange={(event) => this.setState({ inputPassword: event.target.value })} />\n                      </InputGroup>\n                      {\n                        this.state.errorLogin === true ?\n                          <div className=\"alert alert-danger\" role=\"alert\">\n                            Error: Credenciales incorrectas\n                          </div>\n                          :\n                          <div />\n                      }\n                      <Row>\n                        <Col xs=\"6\">\n                          {/* <Link to=\"/\"> */}\n                          <Button color=\"primary\" className=\"px-4\" onClick={this.onLogin}>Iniciar sesón</Button>\n                          {/* </Link> */}\n                        </Col>\n                        <Col xs=\"6\" className=\"text-right\">\n                          {/* <Button color=\"link\" className=\"px-0\">Olvide mi contraceña</Button> */}\n                        </Col>\n                      </Row>\n                    </Form>\n                  </CardBody>\n                </Card>\n                <Card className=\"text-white bg-primary py-5 d-md-down-none\" style={{ width: '44%' }}>\n                  <CardBody className=\"text-center\">\n                    <div>\n                      <h2>Crea tu cuenta</h2>\n                      <p>Registrate y vive una verdadera experiencia para llevar el control de tus finanzas personales</p>\n                      <Link to=\"/register\">\n                        <Button color=\"primary\" className=\"mt-3\" active tabIndex={-1}>Registrate Ahora!</Button>\n                      </Link>\n                    </div>\n                  </CardBody>\n                </Card>\n              </CardGroup>\n            </Col>\n          </Row>\n        </Container>\n        {this.state.auth === true &&\n          <Redirect from=\"/\" to=\"/\" />\n        }\n      </div>\n    );\n  }\n}\n\nexport default Login;\n","/**\n*Peticiones api\n* @author John Alejandro || @Johnssther\n* @link http://JohnAlejandro.com\n* link Api\n* http://104.236.57.82/accesspark/public/api/login\n*/\n\nclass Api {\n    constructor() {\n        let host = window.location.host\n        if (host === \"localhost:3000\") {\n            this.URL = \"http://localhost/coysa/public/api/\";\n        }\n        if (host === \"johnssther.github.io\") {\n            this.URL = \"http://coysa.herokuapp.com/api/\";\n        }\n\n        this.API_TOKEN = localStorage.getItem('token');\n    }\n\n    //1. Login\n    onLogin(userLogin, passwordLogin) {\n        return fetch(`${this.URL}login`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                username: userLogin,\n                password: passwordLogin,\n            }),\n        }).then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n    //1. Register users\n    registerUser(data) {\n        return fetch(`${this.URL}register`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                name: data.name,\n                email: data.email,\n                username: data.username,\n                password: data.password,\n                password_confirmation: data.password_confirmation,\n            }),\n        }).then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson\n            })\n            .catch(error => {\n                throw error;\n            });\n    }\n\n    saveExpenses(data) {\n        // B. Guardar los gastos\n        return fetch(`${this.URL}gastos`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({\n                api_token: this.API_TOKEN,\n                gasto: data.gasto,\n                cantidad: data.cantidad,\n                precio_unidad: data.precioUnidad,\n                precio_total: data.precioTotal,\n                fecha: data.Fecha,\n                user_id: data.id_usuario,\n                tipogasto_id: data.tipogasto_id,\n            }),\n\n        }).then((response) => {\n            console.log('objeto guardado');\n            return response.json();\n        })\n        .catch(error => {\n            throw error;\n        });\n    }\n    // 3. Obtener todos los gastos\n\n    getExpenses(data) {\n        return fetch(`${this.URL}gastos?api_token=${ this.API_TOKEN }\n        &user_id=${JSON.parse(localStorage.getItem('auth')).id}\n        &mes=${data.mes}`)\n\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n\n    // 4. Obtiene los tipos de gastos\n\n    getTipogastos() {\n        return fetch(`${this.URL}tipogastos?api_token=${ this.API_TOKEN }&user_id=${JSON.parse(localStorage.getItem('auth')).id}`)\n            .then((response) => response.json())\n            .then((responseJson) => {\n                return responseJson;\n            })\n            .catch((error) => {\n                throw error;\n            });\n    }\n\n    // 5. Elimina los gastos\n// gastos/85\ndeleteExpense(id) {\n    // B. Guardar los gastos\n    return fetch(`${this.URL}gastos/${id}`, {\n        method: 'DELETE',\n        headers: {\n            Accept: 'application/json',\n            'Content-Type': 'application/json',\n        },\n    }).then((response) => {\n        return response.json();\n    })\n    .catch(error => {\n        throw error;\n    });\n}\n\n\n} // close class\n//Total peticiones 2 : ??\nexport default new Api();\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}"],"sourceRoot":""}